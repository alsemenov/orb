/**
 * orb v1.1.0, Pivot table javascript library.
 *
 * Copyright (c) 2014-2017 Najmeddine Nouri <devnajm@gmail.com>.
 *
 * @version v1.1.0
 * @link http://orbjs.net/
 * @license MIT
 */

"use strict";!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).orb=e()}}(function(){return function e(t,r,n){function o(a,s){if(!r[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[a]={exports:{}};t[a][0].call(u.exports,function(e){var r=t[a][1][e];return o(r||e)},u,u.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){t.exports={default:e("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":5}],2:[function(e,t,r){t.exports={default:e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":6}],3:[function(e,t,r){t.exports={default:e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":7}],4:[function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var o=n(e("../core-js/symbol/iterator")),i=n(e("../core-js/symbol")),a="function"==typeof i.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};r.default="function"==typeof i.default&&"symbol"===a(o.default)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":a(e)}},{"../core-js/symbol":2,"../core-js/symbol/iterator":3}],5:[function(e,t,r){var n=e("../../modules/_core"),o=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(e){return o.stringify.apply(o,arguments)}},{"../../modules/_core":13}],6:[function(e,t,r){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),e("../../modules/es7.symbol.async-iterator"),e("../../modules/es7.symbol.observable"),t.exports=e("../../modules/_core").Symbol},{"../../modules/_core":13,"../../modules/es6.object.to-string":64,"../../modules/es6.symbol":66,"../../modules/es7.symbol.async-iterator":67,"../../modules/es7.symbol.observable":68}],7:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":61,"../../modules/es6.string.iterator":65,"../../modules/web.dom.iterable":69}],8:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],9:[function(e,t,r){t.exports=function(){}},{}],10:[function(e,t,r){var n=e("./_is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":29}],11:[function(e,t,r){var n=e("./_to-iobject"),o=e("./_to-length"),i=e("./_to-absolute-index");t.exports=function(e){return function(t,r,a){var s,l=n(t),c=o(l.length),u=i(a,c);if(e&&r!=r){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===r)return e||u||0;return!e&&-1}}},{"./_to-absolute-index":53,"./_to-iobject":55,"./_to-length":56}],12:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],13:[function(e,t,r){var n=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},{}],14:[function(e,t,r){var n=e("./_a-function");t.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":8}],15:[function(e,t,r){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],16:[function(e,t,r){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":21}],17:[function(e,t,r){var n=e("./_is-object"),o=e("./_global").document,i=n(o)&&n(o.createElement);t.exports=function(e){return i?o.createElement(e):{}}},{"./_global":22,"./_is-object":29}],18:[function(e,t,r){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],19:[function(e,t,r){var n=e("./_object-keys"),o=e("./_object-gops"),i=e("./_object-pie");t.exports=function(e){var t=n(e),r=o.f;if(r)for(var a,s=r(e),l=i.f,c=0;s.length>c;)l.call(e,a=s[c++])&&t.push(a);return t}},{"./_object-gops":42,"./_object-keys":45,"./_object-pie":46}],20:[function(e,t,r){var n=e("./_global"),o=e("./_core"),i=e("./_ctx"),a=e("./_hide"),s=function(e,t,r){var l,c,u,d=e&s.F,p=e&s.G,f=e&s.S,h=e&s.P,g=e&s.B,m=e&s.W,b=p?o:o[t]||(o[t]={}),v=b.prototype,y=p?n:f?n[t]:(n[t]||{}).prototype;p&&(r=t);for(l in r)(c=!d&&y&&void 0!==y[l])&&l in b||(u=c?y[l]:r[l],b[l]=p&&"function"!=typeof y[l]?r[l]:g&&c?i(u,n):m&&y[l]==u?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(u):h&&"function"==typeof u?i(Function.call,u):u,h&&((b.virtual||(b.virtual={}))[l]=u,e&s.R&&v&&!v[l]&&a(v,l,u)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},{"./_core":13,"./_ctx":14,"./_global":22,"./_hide":24}],21:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],22:[function(e,t,r){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],23:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],24:[function(e,t,r){var n=e("./_object-dp"),o=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},{"./_descriptors":16,"./_object-dp":37,"./_property-desc":47}],25:[function(e,t,r){var n=e("./_global").document;t.exports=n&&n.documentElement},{"./_global":22}],26:[function(e,t,r){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":16,"./_dom-create":17,"./_fails":21}],27:[function(e,t,r){var n=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./_cof":12}],28:[function(e,t,r){var n=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./_cof":12}],29:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],30:[function(e,t,r){var n=e("./_object-create"),o=e("./_property-desc"),i=e("./_set-to-string-tag"),a={};e("./_hide")(a,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,r){e.prototype=n(a,{next:o(1,r)}),i(e,t+" Iterator")}},{"./_hide":24,"./_object-create":36,"./_property-desc":47,"./_set-to-string-tag":49,"./_wks":62}],31:[function(e,t,r){var n=e("./_library"),o=e("./_export"),i=e("./_redefine"),a=e("./_hide"),s=e("./_has"),l=e("./_iterators"),c=e("./_iter-create"),u=e("./_set-to-string-tag"),d=e("./_object-gpo"),p=e("./_wks")("iterator"),f=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(e,t,r,g,m,b,v){c(r,t,g);var y,w,x,T=function(e){if(!f&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},_=t+" Iterator",C="values"==m,E=!1,S=e.prototype,N=S[p]||S["@@iterator"]||m&&S[m],F=N||T(m),A=m?C?T("entries"):F:void 0,M="Array"==t?S.entries||N:N;if(M&&(x=d(M.call(new e)))!==Object.prototype&&x.next&&(u(x,_,!0),n||s(x,p)||a(x,p,h)),C&&N&&"values"!==N.name&&(E=!0,F=function(){return N.call(this)}),n&&!v||!f&&!E&&S[p]||a(S,p,F),l[t]=F,l[_]=h,m)if(y={values:C?F:T("values"),keys:b?F:T("keys"),entries:A},v)for(w in y)w in S||i(S,w,y[w]);else o(o.P+o.F*(f||E),t,y);return y}},{"./_export":20,"./_has":23,"./_hide":24,"./_iter-create":30,"./_iterators":33,"./_library":34,"./_object-gpo":43,"./_redefine":48,"./_set-to-string-tag":49,"./_wks":62}],32:[function(e,t,r){t.exports=function(e,t){return{value:t,done:!!e}}},{}],33:[function(e,t,r){t.exports={}},{}],34:[function(e,t,r){t.exports=!0},{}],35:[function(e,t,r){var n=e("./_uid")("meta"),o=e("./_is-object"),i=e("./_has"),a=e("./_object-dp").f,s=0,l=Object.isExtensible||function(){return!0},c=!e("./_fails")(function(){return l(Object.preventExtensions({}))}),u=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},d=t.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[n].i},getWeak:function(e,t){if(!i(e,n)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[n].w},onFreeze:function(e){return c&&d.NEED&&l(e)&&!i(e,n)&&u(e),e}}},{"./_fails":21,"./_has":23,"./_is-object":29,"./_object-dp":37,"./_uid":59}],36:[function(e,t,r){var n=e("./_an-object"),o=e("./_object-dps"),i=e("./_enum-bug-keys"),a=e("./_shared-key")("IE_PROTO"),s=function(){},l=function(){var t,r=e("./_dom-create")("iframe"),n=i.length;for(r.style.display="none",e("./_html").appendChild(r),r.src="javascript:",(t=r.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l.prototype[i[n]];return l()};t.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[a]=e):r=l(),void 0===t?r:o(r,t)}},{"./_an-object":10,"./_dom-create":17,"./_enum-bug-keys":18,"./_html":25,"./_object-dps":38,"./_shared-key":50}],37:[function(e,t,r){var n=e("./_an-object"),o=e("./_ie8-dom-define"),i=e("./_to-primitive"),a=Object.defineProperty;r.f=e("./_descriptors")?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},{"./_an-object":10,"./_descriptors":16,"./_ie8-dom-define":26,"./_to-primitive":58}],38:[function(e,t,r){var n=e("./_object-dp"),o=e("./_an-object"),i=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){o(e);for(var r,a=i(t),s=a.length,l=0;s>l;)n.f(e,r=a[l++],t[r]);return e}},{"./_an-object":10,"./_descriptors":16,"./_object-dp":37,"./_object-keys":45}],39:[function(e,t,r){var n=e("./_object-pie"),o=e("./_property-desc"),i=e("./_to-iobject"),a=e("./_to-primitive"),s=e("./_has"),l=e("./_ie8-dom-define"),c=Object.getOwnPropertyDescriptor;r.f=e("./_descriptors")?c:function(e,t){if(e=i(e),t=a(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return o(!n.f.call(e,t),e[t])}},{"./_descriptors":16,"./_has":23,"./_ie8-dom-define":26,"./_object-pie":46,"./_property-desc":47,"./_to-iobject":55,"./_to-primitive":58}],40:[function(e,t,r){var n=e("./_to-iobject"),o=e("./_object-gopn").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return o(e)}catch(e){return a.slice()}};t.exports.f=function(e){return a&&"[object Window]"==i.call(e)?s(e):o(n(e))}},{"./_object-gopn":41,"./_to-iobject":55}],41:[function(e,t,r){var n=e("./_object-keys-internal"),o=e("./_enum-bug-keys").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},{"./_enum-bug-keys":18,"./_object-keys-internal":44}],42:[function(e,t,r){r.f=Object.getOwnPropertySymbols},{}],43:[function(e,t,r){var n=e("./_has"),o=e("./_to-object"),i=e("./_shared-key")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},{"./_has":23,"./_shared-key":50,"./_to-object":57}],44:[function(e,t,r){var n=e("./_has"),o=e("./_to-iobject"),i=e("./_array-includes")(!1),a=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var r,s=o(e),l=0,c=[];for(r in s)r!=a&&n(s,r)&&c.push(r);for(;t.length>l;)n(s,r=t[l++])&&(~i(c,r)||c.push(r));return c}},{"./_array-includes":11,"./_has":23,"./_shared-key":50,"./_to-iobject":55}],45:[function(e,t,r){var n=e("./_object-keys-internal"),o=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return n(e,o)}},{"./_enum-bug-keys":18,"./_object-keys-internal":44}],46:[function(e,t,r){r.f={}.propertyIsEnumerable},{}],47:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],48:[function(e,t,r){t.exports=e("./_hide")},{"./_hide":24}],49:[function(e,t,r){var n=e("./_object-dp").f,o=e("./_has"),i=e("./_wks")("toStringTag");t.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},{"./_has":23,"./_object-dp":37,"./_wks":62}],50:[function(e,t,r){var n=e("./_shared")("keys"),o=e("./_uid");t.exports=function(e){return n[e]||(n[e]=o(e))}},{"./_shared":51,"./_uid":59}],51:[function(e,t,r){var n=e("./_global"),o=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(e){return o[e]||(o[e]={})}},{"./_global":22}],52:[function(e,t,r){var n=e("./_to-integer"),o=e("./_defined");t.exports=function(e){return function(t,r){var i,a,s=String(o(t)),l=n(r),c=s.length;return l<0||l>=c?e?"":void 0:(i=s.charCodeAt(l))<55296||i>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):i:e?s.slice(l,l+2):a-56320+(i-55296<<10)+65536}}},{"./_defined":15,"./_to-integer":54}],53:[function(e,t,r){var n=e("./_to-integer"),o=Math.max,i=Math.min;t.exports=function(e,t){return(e=n(e))<0?o(e+t,0):i(e,t)}},{"./_to-integer":54}],54:[function(e,t,r){var n=Math.ceil,o=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},{}],55:[function(e,t,r){var n=e("./_iobject"),o=e("./_defined");t.exports=function(e){return n(o(e))}},{"./_defined":15,"./_iobject":27}],56:[function(e,t,r){var n=e("./_to-integer"),o=Math.min;t.exports=function(e){return e>0?o(n(e),9007199254740991):0}},{"./_to-integer":54}],57:[function(e,t,r){var n=e("./_defined");t.exports=function(e){return Object(n(e))}},{"./_defined":15}],58:[function(e,t,r){var n=e("./_is-object");t.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":29}],59:[function(e,t,r){var n=0,o=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},{}],60:[function(e,t,r){var n=e("./_global"),o=e("./_core"),i=e("./_library"),a=e("./_wks-ext"),s=e("./_object-dp").f;t.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},{"./_core":13,"./_global":22,"./_library":34,"./_object-dp":37,"./_wks-ext":61}],61:[function(e,t,r){r.f=e("./_wks")},{"./_wks":62}],62:[function(e,t,r){var n=e("./_shared")("wks"),o=e("./_uid"),i=e("./_global").Symbol,a="function"==typeof i;(t.exports=function(e){return n[e]||(n[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=n},{"./_global":22,"./_shared":51,"./_uid":59}],63:[function(e,t,r){var n=e("./_add-to-unscopables"),o=e("./_iter-step"),i=e("./_iterators"),a=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,r):"values"==t?o(0,e[r]):o(0,[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},{"./_add-to-unscopables":9,"./_iter-define":31,"./_iter-step":32,"./_iterators":33,"./_to-iobject":55}],64:[function(e,t,r){},{}],65:[function(e,t,r){var n=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":31,"./_string-at":52}],66:[function(e,t,r){var n=e("./_global"),o=e("./_has"),i=e("./_descriptors"),a=e("./_export"),s=e("./_redefine"),l=e("./_meta").KEY,c=e("./_fails"),u=e("./_shared"),d=e("./_set-to-string-tag"),p=e("./_uid"),f=e("./_wks"),h=e("./_wks-ext"),g=e("./_wks-define"),m=e("./_enum-keys"),b=e("./_is-array"),v=e("./_an-object"),y=e("./_to-iobject"),w=e("./_to-primitive"),x=e("./_property-desc"),T=e("./_object-create"),_=e("./_object-gopn-ext"),C=e("./_object-gopd"),E=e("./_object-dp"),S=e("./_object-keys"),N=C.f,F=E.f,A=_.f,M=n.Symbol,O=n.JSON,D=O&&O.stringify,R=f("_hidden"),k=f("toPrimitive"),j={}.propertyIsEnumerable,L=u("symbol-registry"),B=u("symbols"),P=u("op-symbols"),H=Object.prototype,V="function"==typeof M,W=n.QObject,U=!W||!W.prototype||!W.prototype.findChild,I=i&&c(function(){return 7!=T(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=N(H,t);n&&delete H[t],F(e,t,r),n&&e!==H&&F(H,t,n)}:F,G=function(e){var t=B[e]=T(M.prototype);return t._k=e,t},z=V&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},q=function(e,t,r){return e===H&&q(P,t,r),v(e),t=w(t,!0),v(r),o(B,t)?(r.enumerable?(o(e,R)&&e[R][t]&&(e[R][t]=!1),r=T(r,{enumerable:x(0,!1)})):(o(e,R)||F(e,R,x(1,{})),e[R][t]=!0),I(e,t,r)):F(e,t,r)},Y=function(e,t){v(e);for(var r,n=m(t=y(t)),o=0,i=n.length;i>o;)q(e,r=n[o++],t[r]);return e},X=function(e){var t=j.call(this,e=w(e,!0));return!(this===H&&o(B,e)&&!o(P,e))&&(!(t||!o(this,e)||!o(B,e)||o(this,R)&&this[R][e])||t)},K=function(e,t){if(e=y(e),t=w(t,!0),e!==H||!o(B,t)||o(P,t)){var r=N(e,t);return!r||!o(B,t)||o(e,R)&&e[R][t]||(r.enumerable=!0),r}},Q=function(e){for(var t,r=A(y(e)),n=[],i=0;r.length>i;)o(B,t=r[i++])||t==R||t==l||n.push(t);return n},J=function(e){for(var t,r=e===H,n=A(r?P:y(e)),i=[],a=0;n.length>a;)!o(B,t=n[a++])||r&&!o(H,t)||i.push(B[t]);return i};V||(s((M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(r){this===H&&t.call(P,r),o(this,R)&&o(this[R],e)&&(this[R][e]=!1),I(this,e,x(1,r))};return i&&U&&I(H,e,{configurable:!0,set:t}),G(e)}).prototype,"toString",function(){return this._k}),C.f=K,E.f=q,e("./_object-gopn").f=_.f=Q,e("./_object-pie").f=X,e("./_object-gops").f=J,i&&!e("./_library")&&s(H,"propertyIsEnumerable",X,!0),h.f=function(e){return G(f(e))}),a(a.G+a.W+a.F*!V,{Symbol:M});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Z=0;$.length>Z;)f($[Z++]);for(var ee=S(f.store),te=0;ee.length>te;)g(ee[te++]);a(a.S+a.F*!V,"Symbol",{for:function(e){return o(L,e+="")?L[e]:L[e]=M(e)},keyFor:function(e){if(!z(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!V,"Object",{create:function(e,t){return void 0===t?T(e):Y(T(e),t)},defineProperty:q,defineProperties:Y,getOwnPropertyDescriptor:K,getOwnPropertyNames:Q,getOwnPropertySymbols:J}),O&&a(a.S+a.F*(!V||c(function(){var e=M();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!z(e)){for(var t,r,n=[e],o=1;arguments.length>o;)n.push(arguments[o++]);return"function"==typeof(t=n[1])&&(r=t),!r&&b(t)||(t=function(e,t){if(r&&(t=r.call(this,e,t)),!z(t))return t}),n[1]=t,D.apply(O,n)}}}),M.prototype[k]||e("./_hide")(M.prototype,k,M.prototype.valueOf),d(M,"Symbol"),d(Math,"Math",!0),d(n.JSON,"JSON",!0)},{"./_an-object":10,"./_descriptors":16,"./_enum-keys":19,"./_export":20,"./_fails":21,"./_global":22,"./_has":23,"./_hide":24,"./_is-array":28,"./_library":34,"./_meta":35,"./_object-create":36,"./_object-dp":37,"./_object-gopd":39,"./_object-gopn":41,"./_object-gopn-ext":40,"./_object-gops":42,"./_object-keys":45,"./_object-pie":46,"./_property-desc":47,"./_redefine":48,"./_set-to-string-tag":49,"./_shared":51,"./_to-iobject":55,"./_to-primitive":58,"./_uid":59,"./_wks":62,"./_wks-define":60,"./_wks-ext":61}],67:[function(e,t,r){e("./_wks-define")("asyncIterator")},{"./_wks-define":60}],68:[function(e,t,r){e("./_wks-define")("observable")},{"./_wks-define":60}],69:[function(e,t,r){e("./es6.array.iterator");for(var n=e("./_global"),o=e("./_hide"),i=e("./_iterators"),a=e("./_wks")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c=s[l],u=n[c],d=u&&u.prototype;d&&!d[a]&&o(d,a,c),i[c]=i.Array}},{"./_global":22,"./_hide":24,"./_iterators":33,"./_wks":62,"./es6.array.iterator":63}],70:[function(e,t,r){function n(e,t,r,n){var i=0,a=0,s=("all"===t?r:t).length;return s>0&&(n||s>1?(o(e,t,r,function(e){a+=e}),a/=s,o(e,t,r,function(e){i+=(e-a)*(e-a)}),i/=n?s:s-1):i=NaN),i}function o(e,t,r,n){var o="all"===t;if((t=o?r:t).length>0)for(var i=0;i<t.length;i++)n((o?t[i]:r[t[i]])[e])}var i=t.exports={toAggregateFunc:function(e){return e?"string"==typeof e&&i[e]?i[e]:"function"==typeof e?e:i.sum:i.sum},count:function(e,t,r){return"all"===t?r.length:t.length},sum:function(e,t,r){var n=0;return o(e,t,r,function(e){n+=e}),n},min:function(e,t,r){var n=null;return o(e,t,r,function(e){(null==n||e<n)&&(n=e)}),n},max:function(e,t,r){var n=null;return o(e,t,r,function(e){(null==n||e>n)&&(n=e)}),n},avg:function(e,t,r){var n=0,i=("all"===t?r:t).length;return i>0&&(o(e,t,r,function(e){n+=e}),n/=i),n},prod:function(e,t,r){var n;return("all"===t?r:t).length>0&&(n=1,o(e,t,r,function(e){n*=e})),n},stdev:function(e,t,r){return Math.sqrt(n(e,t,r,!1))},stdevp:function(e,t,r){return Math.sqrt(n(e,t,r,!0))},var:function(e,t,r){return n(e,t,r,!1)},varp:function(e,t,r){return n(e,t,r,!0)}}},{}],71:[function(e,t,r){var n=e("./orb.utils"),o=e("./orb.dimension"),i={COLUMNS:1,ROWS:2,DATA:3};t.exports=function(e,t){function r(e){for(var t=0;t<s.fields.length;t++)if(s.fields[t].name===e.name)return t;return-1}function a(){if(null!=s.pgrid.filteredDataSource&&s.dimensionsCount>0){var e=s.pgrid.filteredDataSource;if(null!=e&&n.isArray(e)&&e.length>0)for(var t=0,r=e.length;t<r;t++)for(var i=e[t],a=s.root,c=0;c<s.dimensionsCount;c++){var u=s.dimensionsCount-c,d=s.fields[c],p=i[d.name],f=a.subdimvals;void 0!==f[p]?a=f[p]:(a.values.push(p),a=new o(++l,a,p,d,u,!1,c==s.dimensionsCount-1),f[p]=a,a.rowIndexes=[],s.dimensionsByDepth[u].push(a)),a.rowIndexes.push(t)}}}var s=this,l=0;null!=e&&null!=e.config&&(this.pgrid=e,this.type=t,this.fields=function(){switch(t){case i.COLUMNS:return s.pgrid.config.columnFields;case i.ROWS:return s.pgrid.config.rowFields;case i.DATA:return s.pgrid.config.dataFields;default:return[]}}(),this.dimensionsCount=null,this.root=null,this.dimensionsByDepth=null,this.update=function(){s.dimensionsCount=s.fields.length,s.root=new o(++l,null,null,null,s.dimensionsCount+1,!0),s.dimensionsByDepth={};for(var e=1;e<=s.dimensionsCount;e++)s.dimensionsByDepth[e]=[];a();for(var t=0;t<s.fields.length;t++){var r=s.fields[t];"asc"!==r.sort.order&&"desc"!==r.sort.order||s.sort(r,!0)}},this.sort=function(e,t){if(null!=e){!0!==t&&("asc"!==e.sort.order?e.sort.order="asc":e.sort.order="desc");for(var n=s.dimensionsCount-r(e),o=n===s.dimensionsCount?[s.root]:s.dimensionsByDepth[n+1],i=0;i<o.length;i++)null!=e.sort.customfunc?o[i].values.sort(e.sort.customfunc):o[i].values.sort(),"desc"===e.sort.order&&o[i].values.reverse()}},this.flattenValues=function(){for(var e=[{name:"",dim:s.root}];1!=e[0].dim.depth;){var t=e.shift();t.dim.values.forEach(function(r){var n=t.dim.subdimvals[r];e.push({name:t.name+(""!==t.name?"-":"")+r,dim:n})})}return e})},t.exports.Type=i},{"./orb.dimension":73,"./orb.utils":88}],72:[function(e,t,r){function n(e,t,r){for(var n=0;n<t.length;n++)if(null!=t[n][e])return t[n][e];return r}function o(){for(var e={configs:[],sorts:[],subtotals:[],functions:[]},t=0;t<arguments.length;t++){var r=arguments[t]||{};e.configs.push(r),e.sorts.push(r.sort||{}),e.subtotals.push(r.subTotal||{}),e.functions.push({aggregateFuncName:r.aggregateFuncName,aggregateFunc:0===t?r.aggregateFunc:r.aggregateFunc?r.aggregateFunc():null,formatFunc:0===t?r.formatFunc:r.formatFunc?r.formatFunc():null})}return e}function i(e,t,r,i){var a,s;if(i)switch(t){case d.Type.ROWS:a=e.rowSettings,s=i.rowSettings;break;case d.Type.COLUMNS:a=e.columnSettings,s=i.columnSettings;break;case d.Type.DATA:a=e.dataSettings,s=i.dataSettings;break;default:a=null,s=null}else a=null,s=null;var l=o(r,s,a,i,e);return new g({name:n("name",l.configs,""),caption:n("caption",l.configs,""),sort:{order:n("order",l.sorts,null),customfunc:n("customfunc",l.sorts,null)},subTotal:{visible:n("visible",l.subtotals,!0),collapsible:n("collapsible",l.subtotals,!0),collapsed:n("collapsed",l.subtotals,!1)&&n("collapsible",l.subtotals,!0)},aggregateFuncName:n("aggregateFuncName",l.functions,"sum"),aggregateFunc:n("aggregateFunc",l.functions,p.sum),formatFunc:n("formatFunc",l.functions,null)},!1)}function a(e){e=e||{},this.rowsvisible=void 0===e.rowsvisible||e.rowsvisible,this.columnsvisible=void 0===e.columnsvisible||e.columnsvisible}function s(e,t){var r={visible:!0===t||void 0,collapsible:!0===t||void 0,collapsed:!0!==t&&void 0};e=e||{},this.visible=void 0!==e.visible?e.visible:r.visible,this.collapsible=void 0!==e.collapsible?e.collapsible:r.collapsible,this.collapsed=void 0!==e.collapsed?e.collapsed:r.collapsed}function l(e){e=e||{},this.order=e.order||(e.customfunc?"asc":null),this.customfunc=e.customfunc}function c(e){e=e||{},this.enabled=e.enabled||!1,this.type=e.type||"bar",this.secondaryType=e.secondaryType||"line",this.stackedBars=void 0!==e.stackedBars&&e.stackedBars}var u=e("./orb.utils"),d=e("./orb.axe"),p=e("./orb.aggregation"),f=e("./orb.filtering"),h=e("./orb.themes"),g=t.exports.field=function(e,t){e=e||{},this.name=e.name,this.caption=e.caption||this.name,this.sort=new l(e.sort),this.subTotal=new s(e.subTotal);var r,n;this.aggregateFunc=function(e){if(!e)return r;r=p.toAggregateFunc(e)},this.formatFunc=function(e){if(!e)return n;n=e},this.aggregateFuncName=e.aggregateFuncName||(e.aggregateFunc?u.isString(e.aggregateFunc)?e.aggregateFunc:"custom":null),this.aggregateFunc(e.aggregateFunc),this.formatFunc(e.formatFunc||function(e){return null!=e?e.toString():""}),!1!==t&&((this.rowSettings=new g(e.rowSettings,!1)).name=this.name,(this.columnSettings=new g(e.columnSettings,!1)).name=this.name,(this.dataSettings=new g(e.dataSettings,!1)).name=this.name)};t.exports.config=function(e){function t(e){return"string"==typeof e?{name:o.captionToName(e)}:e}function r(e,t){var r=n(e,t);return r>-1?e[r]:null}function n(e,t){for(var r=0;r<e.length;r++)if(e[r].name===t)return r;return-1}var o=this;this.dataSource=e.dataSource||[],this.canMoveFields=void 0===e.canMoveFields||!!e.canMoveFields,this.dataHeadersLocation="columns"===e.dataHeadersLocation?"columns":"rows",this.grandTotal=new a(e.grandTotal),this.subTotal=new s(e.subTotal,!0),this.width=e.width,this.height=e.height,this.toolbar=e.toolbar,this.theme=h,this.chartMode=new c(e.chartMode),h.current(e.theme),this.rowSettings=new g(e.rowSettings,!1),this.columnSettings=new g(e.columnSettings,!1),this.dataSettings=new g(e.dataSettings,!1),this.dataSourceFieldNames=[],this.dataSourceFieldCaptions=[],this.captionToName=function(e){var t=o.dataSourceFieldCaptions.indexOf(e);return t>=0?o.dataSourceFieldNames[t]:e},this.nameToCaption=function(e){var t=o.dataSourceFieldNames.indexOf(e);return t>=0?o.dataSourceFieldCaptions[t]:e},this.setTheme=function(e){return o.theme.current()!==o.theme.current(e)},this.allFields=(e.fields||[]).map(function(e){var t=new g(e);return o.dataSourceFieldNames.push(t.name),o.dataSourceFieldCaptions.push(t.caption),t}),this.rowFields=(this.chartMode.enabled?[]:e.rows||[]).map(function(e){return e=t(e),i(o,d.Type.ROWS,e,r(o.allFields,e.name))}),this.columnFields=(e.columns||[]).map(function(e){return e=t(e),i(o,d.Type.COLUMNS,e,r(o.allFields,e.name))}),this.dataFields=(e.data||[]).map(function(e){return e=t(e),i(o,d.Type.DATA,e,r(o.allFields,e.name))}),this.dataFieldsCount=this.dataFields?this.dataFields.length||1:1;var l={subtotals:{rows:void 0===o.rowSettings.subTotal.visible||o.rowSettings.subTotal.visible,columns:void 0===o.columnSettings.subTotal.visible||o.columnSettings.subTotal.visible}};this.getField=function(e){return r(o.allFields,e)},this.getRowField=function(e){return r(o.rowFields,e)},this.getColumnField=function(e){return r(o.columnFields,e)},this.getDataField=function(e){return r(o.dataFields,e)},this.availablefields=function(){return o.allFields.filter(function(e){var t=function(t){return e.name!==t.name};return o.dataFields.every(t)&&o.rowFields.every(t)&&o.columnFields.every(t)})},this.getDataSourceFieldCaptions=function(){var e;if(o.dataSource&&(e=o.dataSource[0])){for(var t=u.ownProperties(e),r=[],n=0;n<t.length;n++)r.push(o.nameToCaption(t[n]));return r}return null},this.getPreFilters=function(){var t={};return e.preFilters&&u.forEach(u.ownProperties(e.preFilters),function(r){var n=e.preFilters[r];if(u.isArray(n))t[o.captionToName(r)]=new f.expressionFilter(null,null,n,!1);else{var i=u.ownProperties(n)[0];i&&(t[o.captionToName(r)]=new f.expressionFilter(i,n[i]))}}),t},this.moveField=function(e,t,a,s){var l,c,u,p,f=r(o.allFields,e);if(f){switch(t){case d.Type.ROWS:l=o.rowFields;break;case d.Type.COLUMNS:l=o.columnFields;break;case d.Type.DATA:l=o.dataFields}switch(a){case d.Type.ROWS:u=o.rowFields,p=o.getRowField(e);break;case d.Type.COLUMNS:u=o.columnFields,p=o.getColumnField(e);break;case d.Type.DATA:u=o.dataFields,p=o.getDataField(e)}if(l||u){var h=o.areSubtotalsVisible(a);if(l){if(c=n(l,e),t===a&&(c==l.length-1&&null==s||c===s-1))return!1;l.splice(c,1)}var g=i(o,a,p,f);return h||!1===g.subTotal.visible||(g.subTotal.visible=null),u&&(null!=s?u.splice(s,0,g):u.push(g)),o.dataFieldsCount=o.dataFields?o.dataFields.length||1:1,!0}}},this.toggleSubtotals=function(e){var t,r,n=!o.areSubtotalsVisible(e);if(e===d.Type.ROWS)l.subtotals.rows=n,r=o.rowFields;else{if(e!==d.Type.COLUMNS)return!1;l.subtotals.columns=n,r=o.columnFields}for(n=!1!==n||null,t=0;t<r.length;t++)!1!==r[t].subTotal.visible&&(r[t].subTotal.visible=n);return!0},this.areSubtotalsVisible=function(e){return e===d.Type.ROWS?l.subtotals.rows:e===d.Type.COLUMNS?l.subtotals.columns:null},this.toggleGrandtotal=function(e){var t=!o.isGrandtotalVisible(e);if(e===d.Type.ROWS)o.grandTotal.rowsvisible=t;else{if(e!==d.Type.COLUMNS)return!1;o.grandTotal.columnsvisible=t}return!0},this.isGrandtotalVisible=function(e){return e===d.Type.ROWS?o.grandTotal.rowsvisible:e===d.Type.COLUMNS&&o.grandTotal.columnsvisible},this.areStackedBars=function(){return o.chartMode.stackedBars},this.toggleStackedBars=function(){return o.chartMode.stackedBars=!o.areStackedBars(),o.chartMode.enabled}}},{"./orb.aggregation":70,"./orb.axe":71,"./orb.filtering":75,"./orb.themes":81,"./orb.utils":88}],73:[function(e,t,r){t.exports=function(e,t,r,n,o,i,a){var s=this;this.id=e,this.parent=t,this.value=r,this.isRoot=i,this.isLeaf=a,this.field=n,this.depth=o,this.values=[],this.subdimvals={},this.rowIndexes=null,this.getRowIndexes=function(e){if(null==s.rowIndexes){s.rowIndexes=[];for(var t=0;t<s.values.length;t++)s.subdimvals[s.values[t]].getRowIndexes(s.rowIndexes)}if(null!=e){for(var r=0;r<s.rowIndexes.length;r++)e.push(s.rowIndexes[r]);return e}return s.rowIndexes}}},{}],74:[function(e,t,r){var n=e("./orb.utils"),o=e("./orb.ui.header"),i=e("./orb.themes");t.exports=function(e){function t(e){return"<td "+d+'><font color="'+l+'">'+e+"</font></td>"}function r(e,r,n,o){var i,a=o||"<tr>";for(i=0;i<r;i++)a+="<td></td>";for(a+=e.reduce(function(e,r){return e+=t(r.caption)},""),i=0;i<n;i++)a+="<td></td>";return a+"</tr>"}var a=e.pgrid.config,s=i.current(),l="white"===(s="bootstrap"===s?"white":s)?"black":"white",c=i.themes[s],u=i.utils.fadeoutColor(c,.1),d='style="font-weight: bold; color: '+l+"; background-color: "+c+';" bgcolor="'+c+'"',p='style="background-color: '+u+';" bgcolor="'+u+'"',f=Math.max(a.dataFields.length+1,e.layout.pivotTable.width);return"data:application/vnd.ms-excel;base64,"+function(e){return n.btoa(unescape(encodeURIComponent(e)))}('<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta http-equiv=Content-Type content="text/html; charset=UTF-8">\x3c!--[if gte mso 9]><xml> <x:ExcelWorkbook>  <x:ExcelWorksheets>   <x:ExcelWorksheet>    <x:Name>###sheetname###</x:Name>    <x:WorksheetOptions>     <x:ProtectContents>False</x:ProtectContents>     <x:ProtectObjects>False</x:ProtectObjects>     <x:ProtectScenarios>False</x:ProtectScenarios>    </x:WorksheetOptions>   </x:ExcelWorksheet>  </x:ExcelWorksheets>  <x:ProtectStructure>False</x:ProtectStructure>  <x:ProtectWindows>False</x:ProtectWindows> </x:ExcelWorkbook></xml><![endif]--\x3e</head><body><table>'+r(a.dataFields,0,f-a.dataFields.length,'<tr><td><font color="#ccc">Data</font></td>')+('<tr><td style="height: 22px;" colspan="'+f+'"></td></tr>')+r(a.columnFields,e.layout.rowHeaders.width,f-(e.layout.rowHeaders.width+a.columnFields.length))+function(){for(var r,n="",i=0;i<e.columns.headers.length;i++){var s=e.columns.headers[i],l="<tr>";if(i<e.columns.headers.length-1)for(r=0;r<e.layout.rowHeaders.width;r++)l+="<td></td>";else l+=a.rowFields.reduce(function(e,r){return e+=t(r.caption)},"");n+=(l+=s.reduce(function(e,t){var r=t.type===o.HeaderType.DATA_HEADER?t.value.caption:t.value;return e+="<td "+p+' colspan="'+t.hspan(!0)+'" rowspan="'+t.vspan(!0)+'">'+r+"</td>"},""))+"</tr>"}return n}()+function(){for(var t="",r=0;r<e.rows.headers.length;r++){var n="<tr>";n+=e.rows.headers[r].reduce(function(e,t){return e+="<td "+p+' colspan="'+t.hspan(!0)+'" rowspan="'+t.vspan(!0)+'">'+t.value+"</td>"},""),t+=(n+=e.dataRows[r].reduce(function(e,t,r){var n=a.dataFields[r%=a.dataFields.length].formatFunc;return e+="<td>"+(null==t.value?"":n?n()(t.value):t.value)+"</td>"},""))+"</tr>"}return t}()+"</table></body></html>")}},{"./orb.themes":81,"./orb.ui.header":84,"./orb.utils":88}],75:[function(e,t,r){var n=e("./orb.utils"),o=t.exports={ALL:"#All#",NONE:"#None#",BLANK:'#Blank#"'};o.expressionFilter=function(e,t,r,a){var s=this;this.operator=i.get(e),this.regexpMode=!1,this.term=t||null,this.term&&this.operator&&this.operator.regexpSupported&&n.isRegExp(this.term)&&(this.regexpMode=!0,this.term.ignoreCase||(this.term=new RegExp(this.term.source,"i"))),this.staticValue=r,this.excludeStatic=a,this.test=function(e){if(n.isArray(s.staticValue)){var t=s.staticValue.indexOf(e)>=0;return s.excludeStatic&&!t||!s.excludeStatic&&t}return s.term?s.operator.func(e,s.term):!0===s.staticValue||s.staticValue===o.ALL||!1!==s.staticValue&&s.staticValue!==o.NONE},this.isAlwaysTrue=function(){return!(s.term||n.isArray(s.staticValue)||s.staticValue===o.NONE||!1===s.staticValue)}};var i=o.Operators={get:function(e){switch(e){case i.MATCH.name:return i.MATCH;case i.NOTMATCH.name:return i.NOTMATCH;case i.EQ.name:return i.EQ;case i.NEQ.name:return i.NEQ;case i.GT.name:return i.GT;case i.GTE.name:return i.GTE;case i.LT.name:return i.LT;case i.LTE.name:return i.LTE;default:return i.NONE}},NONE:null,MATCH:{name:"Matches",func:function(e,t){return e?e.toString().search(n.isRegExp(t)?t:new RegExp(t,"i"))>=0:!t},regexpSupported:!0},NOTMATCH:{name:"Does Not Match",func:function(e,t){return e?e.toString().search(n.isRegExp(t)?t:new RegExp(t,"i"))<0:!!t},regexpSupported:!0},EQ:{name:"=",func:function(e,t){return e==t},regexpSupported:!1},NEQ:{name:"<>",func:function(e,t){return e!=t},regexpSupported:!1},GT:{name:">",func:function(e,t){return e>t},regexpSupported:!1},GTE:{name:">=",func:function(e,t){return e>=t},regexpSupported:!1},LT:{name:"<",func:function(e,t){return e<t},regexpSupported:!1},LTE:{name:"<=",func:function(e,t){return e<=t},regexpSupported:!1}}},{"./orb.utils":88}],76:[function(e,t,r){t.exports.utils=e("./orb.utils"),t.exports.pgrid=e("./orb.pgrid"),t.exports.pgridwidget=e("./orb.ui.pgridwidget"),t.exports.query=e("./orb.query"),t.exports.export=e("./orb.export.excel")},{"./orb.export.excel":74,"./orb.pgrid":77,"./orb.query":79,"./orb.ui.pgridwidget":85,"./orb.utils":88}],77:[function(e,t,r){var n=e("./orb.pubsub"),o=e("./orb.axe"),i=e("./orb.config").config,a=e("./orb.filtering"),s=e("./orb.query"),l=e("./orb.utils"),c={TABULAR:1,BAR_CHART:2,STACKED_BAR_CHART:3,PIE_CHART:4},u=t.exports=function(e){function t(e){!1!==e&&r(),g.rows.update(),g.columns.update(),f(),g.publish(u.EVENT_UPDATED)}function r(){var e=l.ownProperties(g.filters);if(e.length>0){g.filteredDataSource=[];for(var t=0;t<g.config.dataSource.length;t++){for(var r=g.config.dataSource[t],n=!1,o=0;o<e.length;o++){var i=e[o],a=g.filters[i];if(a&&!a.test(r[i])){n=!0;break}}n||g.filteredDataSource.push(r)}}else g.filteredDataSource=g.config.dataSource}function d(e,t,r,n,o){var i={};if(g.config.dataFieldsCount>0){var a;if(null==e)a=t;else if(null==t)a=e;else{a=[];for(var s=0;s<e.length;s++){var l=e[s];l>=0&&t.indexOf(l)>=0&&(e[s]=0-(l+2),a.push(l))}}var c,u=a&&0===a.length,d=(g.filteredDataSource,[]);if(n)for(var p=0;p<n.length;p++)c=g.config.getDataField(n[p]),o||(c?o=c.aggregateFunc():(c=g.config.getField(n[p]))&&(o=c.dataSettings?c.dataSettings.aggregateFunc():c.aggregateFunc())),c&&o&&d.push({field:c,aggregateFunc:o});else for(var f=0;f<g.config.dataFieldsCount;f++)c=g.config.dataFields[f]||m,(o||c.aggregateFunc)&&d.push({field:c,aggregateFunc:o||c.aggregateFunc()});for(var h=0;h<d.length;h++)i[(c=d[h]).field.name]=u?null:c.aggregateFunc(c.field.name,a||"all",g.filteredDataSource,r||e,t)}return i}function p(e){if(e){var t={},r="r"+e.id;if(void 0===h[r]&&(h[r]=e.isRoot?null:h[e.parent.id]||e.getRowIndexes()),t[g.columns.root.id]=d(e.isRoot?null:h[r].slice(0),null),g.columns.dimensionsCount>0)for(var n=0,o=[g.columns.root];n<o.length;){for(var i=o[n],a=e.isRoot?null:i.isRoot?h[r].slice(0):h["c"+i.id].slice(0),s=0;s<i.values.length;s++){var l=i.subdimvals[i.values[s]],c="c"+l.id;if(void 0===h[c]&&(h[c]=h[c]||l.getRowIndexes().slice(0)),t[l.id]=d(a,h[c],e.isRoot?null:e.getRowIndexes()),!l.isLeaf&&(o.push(l),a)){h[c]=[];for(var u=0;u<a.length;u++){var p=a[u];-1!=p&&p<0&&(h[c].push(0-(p+2)),a[u]=-1)}}}h["c"+i.id]=void 0,n++}return t}}function f(){if(g.dataMatrix={},h={},g.dataMatrix[g.rows.root.id]=p(g.rows.root),g.rows.dimensionsCount>0)for(var e,t=[g.rows.root],r=0;r<t.length;){e=t[r];for(var n=0;n<e.values.length;n++){var o=e.subdimvals[e.values[n]];g.dataMatrix[o.id]=p(o),o.isLeaf||t.push(o)}r++}}var h,g=this,m={name:"#undefined#"};n.call(this),this.config=new i(e),this.filters=g.config.getPreFilters(),this.filteredDataSource=g.config.dataSource,this.rows=new o(g,o.Type.ROWS),this.columns=new o(g,o.Type.COLUMNS),this.dataMatrix={},this.sort=function(e,t){if(e===o.Type.ROWS)g.rows.sort(t);else{if(e!==o.Type.COLUMNS)return;g.columns.sort(t)}g.publish(u.EVENT_SORT_CHANGED)},this.moveField=function(e,r,n,o){return!!g.config.moveField(e,r,n,o)&&(t(!1),!0)},this.applyFilter=function(e,r,n,o,i){g.filters[e]=new a.expressionFilter(r,n,o,i),t()},this.refreshData=function(e){g.config.dataSource=e,t()},this.toggleSubtotals=function(e){g.config.toggleSubtotals(e)&&g.publish(u.EVENT_CONFIG_CHANGED)},this.toggleGrandtotal=function(e){g.config.toggleGrandtotal(e)&&g.publish(u.EVENT_CONFIG_CHANGED)},this.areSubtotalsVisible=function(e){return g.config.areSubtotalsVisible(e)},this.isGrandtotalVisible=function(e){return g.config.isGrandtotalVisible(e)},this.toggleStackedBars=function(){g.config.toggleStackedBars()&&g.publish(u.EVENT_CONFIG_CHANGED)},this.areStackedBars=function(){return g.config.areStackedBars()},this.getViewType=function(){if(!g.config.chartMode.enabled)return c.TABULAR;var e=g.config.chartMode;return"pie"==e.type?c.PIE_CHART:"bar"==e.type?e.stackedBars?c.STACKED_BAR_CHART:c.BAR_CHART:void 0},this.setViewType=function(e){if(e==c.TABULAR)g.config.chartMode.enabled=!1;else{if(e!=c.BAR_CHART&&e!=c.STACKED_BAR_CHART&&e!=c.PIE_CHART)return;g.config.chartMode.enabled=!0,g.config.chartMode.type=e==c.PIE_CHART?"pie":"bar",g.config.chartMode.stackedBars=e==c.STACKED_BAR_CHART;for(var r=!1;g.rows.fields.length>0;)r=g.config.moveField(g.rows.fields[0].name,o.Type.ROWS,null,null)||r;r&&t(!1)}g.publish(u.EVENT_CONFIG_CHANGED)},this.getFieldValues=function(e,t){for(var r=[],n=[],o=!1,i=0;i<g.config.dataSource.length;i++){var a=g.config.dataSource[i][e];void 0!==t?(!0===t||"function"==typeof t&&t(a))&&r.push(a):null!=a?r.push(a):o=!0}if(r.length>1){l.isNumber(r[0])||l.isDate(r[0])?r.sort(function(e,t){return e?t?e-t:1:t?-1:0}):r.sort();for(var s=0;s<r.length;s++)0!==s&&r[s]===n[n.length-1]||n.push(r[s])}else n=r;return o&&n.unshift(null),n},this.getFieldFilter=function(e){return g.filters[e]},this.isFieldFiltered=function(e){var t=g.getFieldFilter(e);return null!=t&&!t.isAlwaysTrue()},this.getData=function(e,t,r,n){var o;if(t&&r){var i=e||(g.config.dataFields[0]||m).name,a=g.config.getDataField(i);o=!a||n&&a.aggregateFunc!=n?g.calcAggregation(t.isRoot?null:t.getRowIndexes().slice(0),r.isRoot?null:r.getRowIndexes().slice(0),[i],n)[i]:g.dataMatrix[t.id]&&g.dataMatrix[t.id][r.id]?g.dataMatrix[t.id][r.id][i]:null}return void 0===o?null:o},this.calcAggregation=function(e,t,r,n){return d(e,t,e,r,n)},this.getChartData=function(){for(var e=g.config,t=function(e){for(var t="",r=0;r<e.length;r++)t+=(r>0?" - ":"")+e[r].caption;return t}(e.columnFields),r=g.columns.flattenValues(),n=[],o=[],i=0;i<e.dataFields.length;i++){var a=[e.dataFields[i].aggregateFuncName+"("+e.dataFields[i].caption+")"];n.push(a[0]);for(var s=0;s<r.length;s++)a.push(g.getData(e.dataFields[i].name,g.rows.root,r[s].dim));o.push(a)}for(var l=[],c=0;c<e.rowFields.length;c++){for(a=[e.rowFields[c].aggregateFuncName+"("+e.rowFields[c].caption+")"],l.push(a[0]),s=0;s<r.length;s++)a.push(g.getData(e.rowFields[c].name,g.rows.root,r[s].dim));o.push(a)}return{hAxisLabel:t,colNames:r.map(function(e){return e.name}),dataTable:o,primaryValues:n,secondaryValues:l,stackedBars:e.areStackedBars()}},this.query=s(g),t()};t.exports.ViewType=c,u.EVENT_UPDATED="pgrid:updated",u.EVENT_SORT_CHANGED="pgrid:sort-changed",u.EVENT_CONFIG_CHANGED="pgrid:config-changed"},{"./orb.axe":71,"./orb.config":72,"./orb.filtering":75,"./orb.pubsub":78,"./orb.query":79,"./orb.utils":88}],78:[function(e,t,r){var n=e("./orb.utils");t.exports=function(){var e={};this.subscribe=function(t,r){n.isString(t)&&n.isFunction(r)&&(e[t]=e[t]||[],e[t].push(r))},this.publish=function(t){n.isString(t)&&n.forEach(e[t],function(e){e.apply(null,[t].concat(Array.prototype.slice.call(arguments,1)))})}}},{"./orb.utils":88}],79:[function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}}(e("babel-runtime/helpers/typeof")),o=e("./orb.utils"),i=e("./orb.axe"),a=e("./orb.aggregation"),s=function(e,t,r){var n=this;this.source=e,this.query=t,this.filters=r,this.extractResult=function(e,t,r){if(!0===r.multi){for(var o={},i=0;i<t.multiFieldNames.length;i++)o[t.multiFieldNames[i]]=e[n.getCaptionName(t.multiFieldNames[i])];return o}return e[r.datafieldname]},this.measureFunc=function(e,t,r,o){var i={datafieldname:n.getCaptionName(e),multi:t,aggregateFunc:r};return function(e){e=n.cleanOptions(e,arguments,i);var r=n.compute(e,o,t);return n.extractResult(r,e,i)}},this.setDefaultAggFunctions=function(e){var t=n.query.val?"val_":"val";n.query[t]=n.measureFunc(void 0,!0,void 0,e);for(var r=o.ownProperties(a),i=0;i<r.length;i++){var s=r[i];"toAggregateFunc"!==s&&(n.query[s]=n.measureFunc(void 0,!0,a[s],e))}}},l=function(e){function t(e,t){return function(r){return r.value===t.val&&(!e||e.some(function(e){var t=r.parent;if(t)for(;t.depth<e.depth;)t=t.parent;return t===e}))}}s.call(this,e,{},{});var r=this;this.getCaptionName=function(e){return r.source.config.captionToName(e)},this.cleanOptions=function(e,t,o){var i={fieldNames:[]};if(!0===o.multi){e&&"object"===(void 0===e?"undefined":(0,n.default)(e))?(i.aggregateFunc=e.aggregateFunc,i.multiFieldNames=e.fields):(i.aggregateFunc=o.aggregateFunc,i.multiFieldNames=t);for(var s=0;s<i.multiFieldNames.length;s++)i.fieldNames.push(r.getCaptionName(i.multiFieldNames[s]))}else i.aggregateFunc=e,i.fieldNames.push(o.datafieldname);return i.aggregateFunc&&(i.aggregateFunc=a.toAggregateFunc(i.aggregateFunc)),i},this.setup=function(e){var t,n=r.source.config.rowFields,o=r.source.config.columnFields,a=r.source.config.dataFields;for(t=0;t<n.length;t++)r.slice(n[t],i.Type.ROWS,n.length-t);for(t=0;t<o.length;t++)r.slice(o[t],i.Type.COLUMNS,o.length-t);for(t=0;t<a.length;t++){var s=a[t],l=s.name,c=s.caption||l;r.query[l]=r.query[c]=r.measureFunc(l)}if(e)for(var u in e)e.hasOwnProperty(u)&&r.query[u](e[u]);return r.setDefaultAggFunctions(),r.query},this.slice=function(e,t,n){r.query[e.name]=r.query[e.caption||e.name]=function(o){var i={name:e.name,val:o,depth:n};return(r.filters[t]=r.filters[t]||[]).push(i),r.query}},this.applyFilters=function(e){if(r.filters[e]){for(var n=r.filters[e].sort(function(e,t){return t.depth-e.depth}),o=r.source[e===i.Type.ROWS?"rows":"columns"],a=0,s=null;a<n.length;){var l=n[a];s=o.dimensionsByDepth[l.depth].filter(t(s,l)),a++}return s}return null},this.compute=function(e){var t,n=r.applyFilters(i.Type.ROWS)||[r.source.rows.root],o=r.applyFilters(i.Type.COLUMNS)||[r.source.columns.root];if(1===n.length&&1===o.length){t={};for(var a=0;a<e.fieldNames.length;a++)t[e.fieldNames[a]]=r.source.getData(e.fieldNames[a],n[0],o[0],e.aggregateFunc)}else{for(var s=[],l=[],c=0;c<n.length;c++)s=s.concat(n[c].getRowIndexes());for(var u=0;u<o.length;u++)l=l.concat(o[u].getRowIndexes());t=r.source.calcAggregation(s,l,e.fieldNames,e.aggregateFunc)}return t}},c=function(e){s.call(this,e,{},[]);var t=this,r={};this.setCaptionName=function(e,t){r[e||t]=t},this.getCaptionName=function(e){return r[e]||e},this.cleanOptions=function(e,r,o){var i={fieldNames:[]};if(!0===o.multi){e&&"object"===(void 0===e?"undefined":(0,n.default)(e))?(i.aggregateFunc=e.aggregateFunc,i.multiFieldNames=e.fields):(i.aggregateFunc=o.aggregateFunc,i.multiFieldNames=r);for(var a=0;a<i.multiFieldNames.length;a++)i.fieldNames.push(t.getCaptionName(i.multiFieldNames[a]))}else i.aggregateFunc=e||o.aggregateFunc,i.fieldNames.push(o.datafieldname);return i},this.setup=function(e){if(t.query.slice=function(e,r){var n={name:e,val:r};return t.filters.push(n),t.query},e)for(var r=o.ownProperties(e),n=0;n<r.length;n++){var i=r[n],a=e[i],s=a.caption||a.name;a.name=i,t.setCaptionName(s,i),a.toAggregate?t.query[i]=t.query[s]=t.measureFunc(i,!1,a.aggregateFunc):t.slice(a)}return t.setDefaultAggFunctions(e),t.query},this.slice=function(e){t.query[e.name]=t.query[e.caption||e.name]=function(r){return t.query.slice(e.name,r)}},this.applyFilters=function(){for(var e=[],r=0;r<t.source.length;r++){for(var n=t.source[r],o=!0,i=0;i<t.filters.length;i++){var a=t.filters[i];if(n[a.name]!==a.val){o=!1;break}}o&&e.push(r)}return e},this.compute=function(e,r,n){for(var o=t.applyFilters(),i={},s=0;s<e.fieldNames.length;s++){var l=e.fieldNames[s],c=a.toAggregateFunc(!0===n?e.aggregateFunc||(r&&r[l]?r[l].aggregateFunc:void 0):e.aggregateFunc);i[l]=c(l,o||"all",t.source,o,null)}return i}};t.exports=function(e,t){return o.isArray(e)?new c(e).setup(t):function(t){return new l(e).setup(t)}}},{"./orb.aggregation":70,"./orb.axe":71,"./orb.utils":88,"babel-runtime/helpers/typeof":4}],80:[function(e,t,r){t.exports=function(){var e={};this.set=function(t,r){e[t]=r},this.get=function(t){return e[t]}}},{}],81:[function(e,t,r){t.exports=function(){function e(){return"bootstrap"===t}var t="blue",r={};r.themes={red:"#C72C48",blue:"#5bc0de",green:"#3fb618",orange:"#df691a",flower:"#A74AC7",gray:"#808080",black:"#000000",white:"#FFFFFF"},r.current=function(e){return e&&(t=r.validateTheme(e)),t},r.validateTheme=function(e){return e=(e||"").toString().trim(),r.themes[e]||"bootstrap"===e?e:"blue"},r.getPivotClasses=function(){return{container:"orb-container orb-"+t,table:"orb"+(e()?" table":"")}},r.getButtonClasses=function(){return{pivotButton:"fld-btn"+(e()?" btn btn-default btn-xs":""),orbButton:"orb-btn"+(e()?" btn btn-default btn-xs":""),scrollBar:e()?" btn btn-default btn-xs":""}},r.getFilterClasses=function(){return{container:"orb-"+t+" orb fltr-cntnr"}},r.getGridClasses=function(){return{table:e()?"table table-condensed":"orb-table"}},r.getDialogClasses=function(r){var n={overlay:"orb-overlay orb-overlay-"+(r?"visible":"hidden")+" orb-"+t,dialog:"orb-dialog",content:"",header:"orb-dialog-header",title:"",body:"orb-dialog-body"};return e()&&(n.overlay+=" modal",n.dialog+=" modal-dialog",n.content="modal-content",n.header+=" modal-header",n.title="modal-title",n.body+=" modal-body"),n};var n=r.utils={hexToRgb:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},rgbaToHex:function(e){var t=e.match(/rgba\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+(?:\.\d+)?)\s*\)/);if(t){var r=parseFloat(t[4]);return"#"+n.applyAlphaAndToHex(t[1],r)+n.applyAlphaAndToHex(t[2],r)+n.applyAlphaAndToHex(t[3],r)}return null},rgbaToHexA:function(e){var t=e.match(/rgba\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+(?:\.\d+)?)\s*\)/);if(t){var r=parseFloat(t[4]);return"#"+n.applyAlphaAndToHex(0,r)+n.applyAlphaAndToHex(t[1],1)+n.applyAlphaAndToHex(t[2],1)+n.applyAlphaAndToHex(t[3],1)}return null},applyAlphaAndToHex:function(e,t){return(Math.floor(t*parseInt(e)+255*(1-t))+256).toString(16).substr(1,2)},fadeoutColor:function(e,t){return e=n.hexToRgb(e),"#"+n.applyAlphaAndToHex(e.r,t)+n.applyAlphaAndToHex(e.g,t)+n.applyAlphaAndToHex(e.b,t)}};return r}()},{}],82:[function(e,t,r){var n=e("./orb.axe"),o=e("./orb.ui.header");t.exports=function(e){var t=this;this.axe=e,this.headers=[],this.dataFieldsCount=function(){return"columns"===t.axe.pgrid.config.dataHeadersLocation&&t.axe.type===n.Type.COLUMNS||"rows"===t.axe.pgrid.config.dataHeadersLocation&&t.axe.type===n.Type.ROWS?t.axe.pgrid.config.dataFieldsCount:1},this.isMultiDataFields=function(){return t.dataFieldsCount()>1},this.toggleFieldExpansion=function(e,t){for(var r,n=[],i=!0,a=0;a<this.headers.length;a++)for(r=0;r<this.headers[a].length;r++){var s=this.headers[a][r];s.type!==o.HeaderType.SUB_TOTAL||null!=e&&s.dim.field.name!=e.name||(n.push(s),i=i&&s.expanded)}if(void 0!==t&&(i=!t),n.length>0){for(r=0;r<n.length;r++)i?n[r].collapse():n[r].expand();return!0}return!1}}},{"./orb.axe":71,"./orb.ui.header":84}],83:[function(e,t,r){var n=e("./orb.axe"),o=e("./orb.ui.axe"),i=e("./orb.ui.header");t.exports=function(e){function t(){function e(e){e&&e.dim.field.subTotal.visible&&t.push(e.subtotalHeader)}var t=[];if(a.headers.length>0){var r=a.headers[a.headers.length-1],n=r[0];if(n){for(var o,s=n.parent,l=0;l<r.length;l++){if(n=r[l],(o=n.parent)!=s){if(e(s),null!=o)for(var c=o.parent,u=s?s.parent:null;c!=u&&null!=u;)e(u),c=c?c.parent:null,u=u?u.parent:null;s=o}if(t.push(r[l]),l===r.length-1)for(;null!=s;)e(s),s=s.parent}a.axe.pgrid.config.grandTotal.columnsvisible&&a.axe.dimensionsCount>1&&t.push(a.headers[0][a.headers[0].length-1])}}if(a.isMultiDataFields()){a.leafsHeaders=[];for(var d=0;d<t.length;d++)for(var p=0;p<a.dataFieldsCount();p++)a.leafsHeaders.push(new i.dataHeader(a.axe.pgrid.config.dataFields[p],t[d]));a.headers.push(a.leafsHeaders)}else a.leafsHeaders=t}function r(e,t){for(var r=t[t.length-1],o=a.axe.root.depth===e?[null]:t[a.axe.root.depth-e-1].filter(function(e){return e.type!==i.HeaderType.SUB_TOTAL}),s=0;s<o.length;s++)for(var l=o[s],c=null==l?a.axe.root:l.dim,u=0;u<c.values.length;u++){var d,p=c.values[u],f=c.subdimvals[p];d=!f.isLeaf&&f.field.subTotal.visible?new i.header(n.Type.COLUMNS,i.HeaderType.SUB_TOTAL,f,l,a.dataFieldsCount()):null;var h=new i.header(n.Type.COLUMNS,null,f,l,a.dataFieldsCount(),d);r.push(h),!f.isLeaf&&f.field.subTotal.visible&&r.push(d)}}var a=this;o.call(a,e),this.leafsHeaders=null,this.build=function(){if(a.headers=[],null!=a.axe){if(a.axe.root.values.length>0||a.axe.pgrid.config.grandTotal.columnsvisible){for(var e=a.axe.root.depth;e>1;e--)a.headers.push([]),r(e,a.headers);a.axe.pgrid.config.grandTotal.columnsvisible&&(a.headers[0]=a.headers[0]||[]).push(new i.header(n.Type.COLUMNS,i.HeaderType.GRAND_TOTAL,a.axe.root,null,a.dataFieldsCount()))}0===a.headers.length&&a.headers.push([new i.header(n.Type.COLUMNS,i.HeaderType.INNER,a.axe.root,null,a.dataFieldsCount())]),t()}},this.build()}},{"./orb.axe":71,"./orb.ui.axe":82,"./orb.ui.header":84}],84:[function(e,t,r){function n(e){this.axetype=e.axetype,this.type=e.type,this.template=e.template,this.value=e.value,this.expanded=!0,this.cssclass=e.cssclass,this.hspan=e.hspan||function(){return 1},this.vspan=e.vspan||function(){return 1},this.visible=e.isvisible||function(){return!0},this.key=this.axetype+this.type+this.value,this.getState=function(){return i.get(this.key)},this.setState=function(e){i.set(this.key,e)}}var o=e("./orb.axe"),i=new(e("./orb.state")),a=t.exports.HeaderType={EMPTY:1,DATA_HEADER:2,DATA_VALUE:3,FIELD_BUTTON:4,INNER:5,WRAPPER:6,SUB_TOTAL:7,GRAND_TOTAL:8,getHeaderClass:function(e,t){var r=t===o.Type.ROWS?"header-row":t===o.Type.COLUMNS?"header-col":"";switch(e){case a.EMPTY:case a.FIELD_BUTTON:r="empty";break;case a.INNER:case a.WRAPPER:r="header "+r;break;case a.SUB_TOTAL:r="header header-st "+r;break;case a.GRAND_TOTAL:r="header header-gt "+r}return r},getCellClass:function(e,t){var r="";switch(e){case a.GRAND_TOTAL:r="cell-gt";break;case a.SUB_TOTAL:r=t===a.GRAND_TOTAL?"cell-gt":"cell-st";break;default:r=t===a.GRAND_TOTAL?"cell-gt":t===a.SUB_TOTAL?"cell-st":""}return r}};t.exports.header=function(e,t,r,i,s,l){function c(e){var t,r=0,n=!1;if(h||e||f.visible()){if(f.dim.isLeaf)return s;if(f.subheaders.length>0)for(var o=0;o<f.subheaders.length;o++){var i=f.subheaders[o];i.dim.isLeaf?r+=s:(r+=t=h?i.vspan():i.hspan(),0===o&&0===t&&(n=!0))}else r+=s;return r+(n?1:0)}return r}var u,d,p,f=this,h=e===o.Type.ROWS;switch(t=t||(1===r.depth?a.INNER:a.WRAPPER)){case a.GRAND_TOTAL:p="Grand Total",u=h?r.depth-1||1:s,d=h?s:r.depth-1||1;break;case a.SUB_TOTAL:p=r.value,u=h?r.depth:s,d=h?s:r.depth;break;default:p=r.value,u=h?1:null,d=h?null:1}n.call(this,{axetype:e,type:t,template:h?"cell-template-row-header":"cell-template-column-header",value:p,cssclass:a.getHeaderClass(t,e),hspan:null!=u?function(){return u}:c,vspan:null!=d?function(){return d}:c,isvisible:function(){if(f.type===a.SUB_TOTAL){for(var e=f.parent;null!=e;){if(e.subtotalHeader&&!e.subtotalHeader.expanded)return!1;e=e.parent}return!0}var t=f.dim.isRoot||f.dim.isLeaf||!f.dim.field.subTotal.visible||f.subtotalHeader.expanded;if(!t)return!1;for(var r=f.parent;null!=r&&(!r.dim.field.subTotal.visible||null!=r.subtotalHeader&&r.subtotalHeader.expanded);)r=r.parent;return null==r||null==r.subtotalHeader?t:r.subtotalHeader.expanded}}),this.subtotalHeader=l,this.parent=i,this.subheaders=[],this.dim=r,this.expanded=this.getState()?this.getState().expanded:t!==a.SUB_TOTAL||!r.field.subTotal.collapsed,this.expand=function(){f.expanded=!0,this.setState({expanded:f.expanded})},this.collapse=function(){f.expanded=!1,this.setState({expanded:f.expanded})},null!=i&&i.subheaders.push(this)},t.exports.dataHeader=function(e,t){n.call(this,{axetype:null,type:a.DATA_HEADER,template:"cell-template-dataheader",value:e,cssclass:a.getHeaderClass(t.type,t.axetype),isvisible:t.visible}),this.parent=t},t.exports.dataCell=function(e,t,r,o){this.rowDimension=r.type===a.DATA_HEADER?r.parent.dim:r.dim,this.columnDimension=o.type===a.DATA_HEADER?o.parent.dim:o.dim,this.rowType=r.type===a.DATA_HEADER?r.parent.type:r.type,this.colType=o.type===a.DATA_HEADER?o.parent.type:o.type,this.datafield=e.config.dataFieldsCount>1?"rows"===e.config.dataHeadersLocation?r.value:o.value:e.config.dataFields[0],n.call(this,{axetype:null,type:a.DATA_VALUE,template:"cell-template-datavalue",value:e.getData(this.datafield?this.datafield.name:null,this.rowDimension,this.columnDimension),cssclass:"cell "+a.getCellClass(this.rowType,this.colType),isvisible:t})},t.exports.buttonCell=function(e){n.call(this,{axetype:null,type:a.FIELD_BUTTON,template:"cell-template-fieldbutton",value:e,cssclass:a.getHeaderClass(a.FIELD_BUTTON)})},t.exports.emptyCell=function(e,t){n.call(this,{axetype:null,type:a.EMPTY,template:"cell-template-empty",value:null,cssclass:a.getHeaderClass(a.EMPTY),hspan:function(){return e},vspan:function(){return t}})}},{"./orb.axe":71,"./orb.state":80}],85:[function(e,t,r){var n="undefined"==typeof window?e("react-dom"):window.ReactDOM,o=e("./orb.axe"),i=e("./orb.pgrid"),a=e("./orb.ui.header"),s=e("./orb.ui.rows"),l=e("./orb.ui.cols"),c=e("./react/orb.react.Dialog.jsx"),u=e("./react/orb.react.PivotChart.jsx"),d=e("./react/orb.react.PivotTable.jsx"),p=e("./react/orb.react.Grid.jsx");t.exports=function(e){function t(){g.rows=new s(g.pgrid.rows),g.columns=new l(g.pgrid.columns);var e=g.rows.headers,t=g.columns.leafsHeaders;g.layout={rowHeaders:{width:(g.pgrid.rows.fields.length||1)+("rows"===g.pgrid.config.dataHeadersLocation&&g.pgrid.config.dataFieldsCount>1?1:0),height:e.length},columnHeaders:{width:g.columns.leafsHeaders.length,height:(g.pgrid.columns.fields.length||1)+("columns"===g.pgrid.config.dataHeadersLocation&&g.pgrid.config.dataFieldsCount>1?1:0)}},g.layout.pivotTable={width:g.layout.rowHeaders.width+g.layout.columnHeaders.width,height:g.layout.rowHeaders.height+g.layout.columnHeaders.height};var r,n=[];if(e.length>0)for(var o=0;o<e.length;o++){var i=e[o],c=i[i.length-1];r=[];for(var u=0;u<t.length;u++){var d=t[u],p=function(e,t){return function(){return e()&&t()}}(c.visible,d.visible);r[u]=new a.dataCell(g.pgrid,p,c,d)}n.push(r)}g.dataRows=n}function r(){t(),g.render()}var f,h,g=this,m=c.create();this.pgrid=new i(e),this.rows=null,this.columns=null,this.dataRows=[],this.layout={rowHeaders:{width:null,height:null},columnHeaders:{width:null,height:null},pivotTable:{width:null,height:null}},this.expandRow=function(e){e.expand(),this.render()},this.collapseRow=function(e){e.subtotalHeader.collapse(),this.render()},this.sort=function(e,t){g.pgrid.sort(e,t)},this.refreshData=function(e){g.pgrid.refreshData(e)},this.applyFilter=function(e,t,r,n,o){g.pgrid.applyFilter(e,t,r,n,o)},this.moveField=function(e,t,r,n){g.pgrid.moveField(e,t,r,n)},this.toggleFieldExpansion=function(e,t,r){var n=e===o.Type.ROWS?g.rows:e===o.Type.COLUMNS?g.columns:null;n&&n.toggleFieldExpansion(t,r)&&g.render()},this.toggleSubtotals=function(e){g.pgrid.toggleSubtotals(e)},this.areSubtotalsVisible=function(e){return g.pgrid.areSubtotalsVisible(e)},this.toggleGrandtotal=function(e){g.pgrid.toggleGrandtotal(e)},this.isGrandtotalVisible=function(e){return g.pgrid.isGrandtotalVisible(e)},this.toggleStackedBars=function(){g.pgrid.toggleStackedBars()},this.areStackedBars=function(){return g.pgrid.areStackedBars()},this.changeTheme=function(e){h.changeTheme(e)},this.getViewType=function(){return g.pgrid.getViewType()},this.setViewType=function(e){g.pgrid.setViewType(e)},this.render=function(e){if(f=e||f){var t=React.createFactory(g.pgrid.config.chartMode.enabled?u:d)({pgridwidget:g});h=n.render(t,f)}},this.drilldown=function(e,t){if(e){var r,n=e.columnDimension.getRowIndexes(),o=e.rowDimension.getRowIndexes().filter(function(e){return n.indexOf(e)>=0}).map(function(e){return g.pgrid.filteredDataSource[e]});r=e.rowType===a.HeaderType.GRAND_TOTAL&&e.colType===a.HeaderType.GRAND_TOTAL?"Grand total":e.rowType===a.HeaderType.GRAND_TOTAL?e.columnDimension.value+"/Grand total ":e.colType===a.HeaderType.GRAND_TOTAL?e.rowDimension.value+"/Grand total ":e.rowDimension.value+"/"+e.columnDimension.value,m.show({title:r,comp:{type:p,props:{headers:g.pgrid.config.getDataSourceFieldCaptions(),data:o,theme:g.pgrid.config.theme}},theme:g.pgrid.config.theme,style:h.fontStyle})}},g.pgrid.subscribe(i.EVENT_UPDATED,r),g.pgrid.subscribe(i.EVENT_SORT_CHANGED,r),g.pgrid.subscribe(i.EVENT_CONFIG_CHANGED,r),t()}},{"./orb.axe":71,"./orb.pgrid":77,"./orb.ui.cols":83,"./orb.ui.header":84,"./orb.ui.rows":86,"./react/orb.react.Dialog.jsx":90,"./react/orb.react.Grid.jsx":97,"./react/orb.react.PivotChart.jsx":100,"./react/orb.react.PivotTable.jsx":109,"react-dom":"react-dom"}],86:[function(e,t,r){var n=e("./orb.axe"),o=e("./orb.ui.axe"),i=e("./orb.ui.header");t.exports=function(e){function t(e,t){if(a.isMultiDataFields())for(var r=e[e.length-1],n=0;n<a.dataFieldsCount();n++)r.push(new i.dataHeader(a.axe.pgrid.config.dataFields[n],t)),n<a.dataFieldsCount()-1&&e.push(r=[])}function r(e,o){if(o.values.length>0)for(var s=e[e.length-1],l=s.length>0?s[s.length-1]:null,c=0;c<o.values.length;c++){var u,d=o.values[c],p=o.subdimvals[d];u=!p.isLeaf&&p.field.subTotal.visible?new i.header(n.Type.ROWS,i.HeaderType.SUB_TOTAL,p,l,a.dataFieldsCount()):null;var f=new i.header(n.Type.ROWS,null,p,l,a.dataFieldsCount(),u);c>0&&e.push(s=[]),s.push(f),p.isLeaf?t(e,f):(r(e,p),p.field.subTotal.visible&&(e.push([u]),t(e,u)))}}var a=this;o.call(a,e),this.build=function(){var e,o=[];if(null!=a.axe){if((a.axe.root.values.length>0||a.axe.pgrid.config.grandTotal.rowsvisible)&&(o.push([]),r(o,a.axe.root),a.axe.pgrid.config.grandTotal.rowsvisible)){var s=o[o.length-1];e=new i.header(n.Type.ROWS,i.HeaderType.GRAND_TOTAL,a.axe.root,null,a.dataFieldsCount()),0===s.length?s.push(e):o.push([e])}0===o.length&&o.push([e=new i.header(n.Type.ROWS,i.HeaderType.INNER,a.axe.root,null,a.dataFieldsCount())]),e&&t(o,e)}a.headers=o},this.build()}},{"./orb.axe":71,"./orb.ui.axe":82,"./orb.ui.header":84}],87:[function(e,t,r){function n(e){return e.replace(o,function(e,t){return t.toUpperCase()})}t.exports.removeClass=function(e,t){if(e&&t)for(;e.className.indexOf(t)>=0;)e.className=e.className.replace(t,"")},t.exports.addClass=function(e,t){e&&t&&e.className.indexOf(t)<0&&(e.className+=" "+t)},t.exports.getOffset=function(e){if(e){var t=e.getBoundingClientRect();return{x:t.left,y:t.top}}return{x:0,y:0}},t.exports.getParentOffset=function(e){if(e){var t=e.getBoundingClientRect(),r=null!=e.parentNode?e.parentNode.getBoundingClientRect():{top:0,left:0};return{x:t.left-r.left,y:t.top-r.top}}return{x:0,y:0}},t.exports.getSize=function(e){if(e){var t=e.getBoundingClientRect();return{width:t.right-t.left,height:t.bottom-t.top}}return{width:0,height:0}};var o=/\-(\w)/g;t.exports.getStyle=function(e,t,r){var o=[];if(e&&t){var i,a,s;e.currentStyle?(i=e.currentStyle,a=function(e){return i[e]},s=!0):window&&window.getComputedStyle&&(i=window.getComputedStyle(e,null),a=function(e){return i.getPropertyValue(e)});for(var l=0;l<t.length;l++){var c=a(s?n(t[l]):t[l]);o.push(c&&!0!==r?Math.ceil(parseFloat(c)):c)}}return o},t.exports.isVisible=function(e){return!!e&&("none"!==e.style.display&&(0!==e.offsetWidth||0!==e.offsetHeight))},t.exports.updateTableColGroup=function(e,t){if(e){var r=e.firstChild;if(r&&"COLGROUP"===r.nodeName){for(e.style.tableLayout="auto",e.style.width="";r.firstChild;)r.removeChild(r.firstChild);for(var n=0;n<t.length;n++){var o=document.createElement("col");o.style.width=t[n]+"px",r.appendChild(o)}e.style.tableLayout="fixed"}}}},{}],88:[function(e,t,r){(function(r){var n=function(e){return e&&e.__esModule?e:{default:e}}(e("babel-runtime/core-js/json/stringify"));t.exports={ns:function(e,t){var r=e.split("."),n=0;for(t=t||window;n<r.length;)t[r[n]]=t[r[n]]||{},t=t[r[n]],n++;return t},ownProperties:function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t},forEach:function(e,t,r){var n;if(e)for(var o=0,i=e.length;o<i&&(!(n=t(e[o],o))||!0===r);o++);return n},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},isNumber:function(e){return"[object Number]"===Object.prototype.toString.apply(e)},isDate:function(e){return"[object Date]"===Object.prototype.toString.apply(e)},isString:function(e){return"[object String]"===Object.prototype.toString.apply(e)},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.apply(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.apply(e)},escapeRegex:function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},findInArray:function(e,t){if(this.isArray(e)&&t)for(var r=0;r<e.length;r++){var n=e[r];if(t(n))return n}},jsonStringify:function(e,t){return(0,n.default)(e,function(e,r){return t&&t.indexOf(e)>-1?void 0:r},2)},addEventListener:function(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r},removeEventListener:function(e,t,r){e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null},preventDefault:function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(e){(e=e||window.event).stopPropagation?e.stopPropagation():e.cancelBubble=!0},getEventButton:function(e){var t=e.button;return"which"in e?t:1===t?0:4===t?1:2},getMousePageXY:function(e){var t=(e=e||window.event).pageX,r=e.pageY;return void 0===t&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,r=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{pageX:t,pageY:r}}},function(e){function t(e){this.message=e}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";(t.prototype=new Error).name="InvalidCharacterError",e.btoa=r&&r.btoa?function(e){return r.btoa(e)}:function(e){for(var r,o,i=String(e),a=0,s=n,l="";i.charAt(0|a)||(s="=",a%1);l+=s.charAt(63&r>>8-a%1*8)){if((o=i.charCodeAt(a+=.75))>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|o}return l},e.atob=r&&r.atob?function(e){return r.atob(e)}:function(e){var r=String(e).replace(/=+$/,"");if(r.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,i,a=0,s=0,l="";i=r.charAt(s++);~i&&(o=a%4?64*o+i:i,a++%4)?l+=String.fromCharCode(255&o>>(-2*a&6)):0)i=n.indexOf(i);return l}}(t.exports)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/core-js/json/stringify":1}],89:[function(e,t,r){var n="undefined"==typeof window?e("react"):window.React,o="undefined"==typeof window?e("react-dom"):window.ReactDOM,i="undefined"==typeof window?e("c3"):window.c3;t.exports=n.createClass({displayName:"exports",getInitialState:function(){return{canRender:!1}},canRender:function(){return this.state.canRender&&"string"==typeof this.props.chartMode.type},drawChart:function(){var e=this;if(this.canRender()){var t=e.props.pivotTableComp.pgridwidget.pgrid.getChartData();i.generate({bindto:o.findDOMNode(this),data:{type:e.props.chartMode.type,columns:t.dataTable,types:t.secondaryValues.reduce(function(t,r){return t[r]=e.props.chartMode.secondaryType,t},{}),groups:[t.stackedBars?t.primaryValues:[]]},axis:{x:{label:t.hAxisLabel,type:"category",categories:t.colNames}}})}},componentDidMount:function(){this.drawChart()},componentDidUpdate:function(){this.drawChart()},render:function(){return this.canRender()?n.createElement("div",{className:"chart",style:this.state.chartStyle}):null}})},{c3:"c3",react:"react","react-dom":"react-dom"}],90:[function(e,t,r){function n(){var e=document.createElement("div");return e.className="orb-overlay orb-overlay-hidden",document.body.appendChild(e),e}var o="undefined"==typeof window?e("react"):window.React,i="undefined"==typeof window?e("react-dom"):window.ReactDOM,a=e("../orb.utils"),s=t.exports=o.createClass({displayName:"exports",statics:{create:function(){var e=o.createFactory(s),t=n();return{show:function(r){i.render(e(r),t)}}}},overlayElement:null,setOverlayClass:function(e){this.overlayElement.className=this.props.theme.getDialogClasses(e).overlay},componentDidMount:function(){this.overlayElement=i.findDOMNode(this).parentNode,this.setOverlayClass(!0),a.addEventListener(this.overlayElement,"click",this.close);var e=this.overlayElement.children[0],t=e.children[0].children[1],r=Math.max(document.documentElement.clientWidth,window.innerWidth||0),n=Math.max(document.documentElement.clientHeight,window.innerHeight||0),o=2*n/3;o=o<301?301:o;var s=e.offsetWidth+(e.offsetHeight>o?11:0),l=e.offsetHeight>o?o:e.offsetHeight;e.style.top=(n>l?(n-l)/2:0)+"px",e.style.left=(r>s?(r-s)/2:0)+"px",e.style.height=l+"px",t.style.width=s+"px",t.style.height=l-45+"px"},close:function(e){var t=e.target||e.srcElement;t!=this.overlayElement&&"button-close"!==t.className||(a.removeEventListener(this.overlayElement,"click",this.close),i.unmountComponentAtNode(this.overlayElement),this.setOverlayClass(!1))},render:function(){if(this.props.comp){var e=o.createElement(this.props.comp.type,this.props.comp.props),t=this.props.theme.getDialogClasses();return o.createElement("div",{className:t.dialog,style:this.props.style||{}},o.createElement("div",{className:t.content},o.createElement("div",{className:t.header},o.createElement("div",{className:"button-close",onClick:this.close}),o.createElement("div",{className:t.title},this.props.title)),o.createElement("div",{className:t.body},e)))}}})},{"../orb.utils":88,react:"react","react-dom":"react-dom"}],91:[function(e,t,r){var n="undefined"==typeof window?e("react-dom"):window.ReactDOM,o=e("../orb.utils");t.exports=function(){function e(e,t){return!(e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function t(e,t){c?a(c,function(){c=e,i(e,t)}):(c=e,i(e,t))}function r(e){u?a(u,function(){u=e,i(e)}):(u=e,i(e))}function i(e,t){e&&e.onDragOver?e.onDragOver(t):t&&t()}function a(e,t){e&&e.onDragEnd?e.onDragEnd(t):t&&t()}var s=null,l=null,c=null,u=null,d=null,p=[],f=[],h=!1;return{init:function(e){h=!0,s=e},setDragElement:function(e){var o=l;if((l=e)!=o)if(null==e){if(c){var i=null!=u?u.position:null;s.moveButton(o,c.component.props.axetype,i)}d=null,t(null),r(null)}else d=n.findDOMNode(l)},registerTarget:function(e,t,r,n){p.push({component:e,axetype:t,onDragOver:r,onDragEnd:n})},unregisterTarget:function(e){for(var t,r=0;r<p.length;r++)if(p[r].component==e){t=r;break}null!=t&&p.splice(t,1)},registerIndicator:function(e,t,r,n,o){f.push({component:e,axetype:t,position:r,onDragOver:n,onDragEnd:o})},unregisterIndicator:function(e){for(var t,r=0;r<f.length;r++)if(f[r].component==e){t=r;break}null!=t&&f.splice(t,1)},elementMoved:function(){if(null!=l){var i,a=d.getBoundingClientRect();o.forEach(p,function(t){if(!i){var r=n.findDOMNode(t.component).getBoundingClientRect();if(e(a,r))return void(i=t)}}),i&&t(i,function(){var t=null;if(o.forEach(f,function(r,o){if(!t){var s=r.component.props.axetype===l.props.axetype&&r.component.props.position===l.props.position;if(r.component.props.axetype===i.component.props.axetype&&!s){var c=n.findDOMNode(r.component).getBoundingClientRect();if(e(a,c))return t=r,!0}}}),!t){var s=f.filter(function(e){return e.component.props.axetype===i.component.props.axetype});s.length>0&&(t=s[s.length-1])}r(t)})}}}}()},{"../orb.utils":88,"react-dom":"react-dom"}],92:[function(e,t,r){var n="undefined"==typeof window?e("react"):window.React,o=e("./orb.react.DragManager.jsx");t.exports=n.createClass({displayName:"DropIndicator",getInitialState:function(){return o.registerIndicator(this,this.props.axetype,this.props.position,this.onDragOver,this.onDragEnd),{isover:!1}},componentWillUnmount:function(){o.unregisterIndicator(this)},onDragOver:function(e){this.isMounted()?this.setState({isover:!0},e):e&&e()},onDragEnd:function(e){this.isMounted()?this.setState({isover:!1},e):e&&e()},render:function(){var e="drp-indic"+(this.props.isVertical?"-vertical":"");this.props.isFirst&&(e+=" drp-indic-first"),this.props.isLast&&(e+=" drp-indic-last");var t={};return this.state.isover&&(e+=" drp-indic-over"),n.createElement("div",{style:t,className:e})}})},{"./orb.react.DragManager.jsx":91,react:"react"}],93:[function(e,t,r){var n="undefined"==typeof window?e("react"):window.React,o=e("./orb.react.DragManager.jsx"),i=e("./orb.react.DropIndicator.jsx"),a=e("../orb.axe"),s=0;t.exports=n.createClass({displayName:"exports",getInitialState:function(){return this.dtid=++s,{isover:!1}},componentDidMount:function(){o.registerTarget(this,this.props.axetype,this.onDragOver,this.onDragEnd)},componentWillUnmount:function(){o.unregisterTarget(this)},onDragOver:function(e){this.isMounted()?this.setState({isover:!0},e):e&&e()},onDragEnd:function(e){this.isMounted()?this.setState({isover:!1},e):e&&e()},render:function(){var e=this,t=this.props.buttons.map(function(t,r){return r<e.props.buttons.length-1?[n.createElement("td",null,n.createElement(i,{isFirst:0===r,position:r,axetype:e.props.axetype})),n.createElement("td",null,t)]:[n.createElement("td",null,n.createElement(i,{isFirst:0===r,position:r,axetype:e.props.axetype})),n.createElement("td",null,t),n.createElement("td",null,n.createElement(i,{isLast:!0,position:null,axetype:e.props.axetype}))]}),r=e.props.axetype===a.Type.ROWS?{position:"absolute",left:0,bottom:11}:null;return n.createElement("div",{className:"drp-trgt"+(this.state.isover?" drp-trgt-over":"")+(0===t.length?" drp-trgt-empty":""),style:r},n.createElement("table",null,n.createElement("tbody",null,n.createElement("tr",null,t))))}})},{"../orb.axe":71,"./orb.react.DragManager.jsx":91,"./orb.react.DropIndicator.jsx":92,react:"react"}],94:[function(e,t,r){var n="undefined"==typeof window?e("react"):window.React,o=e("./orb.react.DragManager.jsx"),i=e("./orb.react.DropIndicator.jsx"),a=0;t.exports=n.createClass({displayName:"exports",getInitialState:function(){return this.dtid=++a,{isover:!1}},componentDidMount:function(){o.registerTarget(this,this.props.axetype,this.onDragOver,this.onDragEnd)},componentWillUnmount:function(){o.unregisterTarget(this)},onDragOver:function(e){this.isMounted()?this.setState({isover:!0},e):e&&e()},onDragEnd:function(e){this.isMounted()?this.setState({isover:!1},e):e&&e()},render:function(){var e=this,t=this.props.buttons.map(function(t,r){var o=[n.createElement("tr",null,n.createElement("td",null,n.createElement(i,{isFirst:0===r,position:r,axetype:e.props.axetype,isVertical:!0}))),n.createElement("tr",null,n.createElement("td",null,t))];return r==e.props.buttons.length-1&&o.push(n.createElement("tr",null,n.createElement("td",null,n.createElement(i,{isLast:!0,position:null,axetype:e.props.axetype,isVertical:!0})))),o});return n.createElement("div",{className:"drp-trgt-vertical"+(this.state.isover?" drp-trgt-over":"")+(0===t.length?" drp-trgt-vertical-empty":"")},n.createElement("table",null,n.createElement("tbody",null,t)))}})},{"./orb.react.DragManager.jsx":91,"./orb.react.DropIndicator.jsx":92,react:"react"}],95:[function(e,t,r){var n="undefined"==typeof window?e("react"):window.React,o=e("../orb.utils");t.exports=n.createClass({displayName:"exports",openOrClose:function(e){var t=this.refs.valueElement,r=this.refs.valuesList;(e.target||e.srcElement)===t&&"none"===r.style.display?r.style.display="block":r.style.display="none"},onMouseEnter:function(){var e=this.refs.valueElement;e.className="orb-tgl-btn-down",e.style.backgroundPosition="right center"},onMouseLeave:function(){this.refs.valueElement.className=""},componentDidMount:function(){o.addEventListener(document,"click",this.openOrClose)},componentWillUnmount:function(){o.removeEventListener(document,"click",this.openOrClose)},selectValue:function(e){for(var t=this.refs.valuesList,r=e.target||e.srcElement,n=!1;!n&&null!=r;){if(r.parentNode==t){n=!0;break}r=r.parentNode}if(n){var o=r.textContent,i=this.refs.valueElement;i.textContent!=o&&(i.textContent=o,this.props.onValueChanged&&this.props.onValueChanged(o))}},render:function(){for(var e=[],t=0;t<this.props.values.length;t++)e.push(n.createElement("li",{key:"item"+t,dangerouslySetInnerHTML:{__html:this.props.values[t]}}));return n.createElement("div",{className:"orb-select"},n.createElement("div",{ref:"valueElement",dangerouslySetInnerHTML:{__html:this.props.selectedValue},onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),n.createElement("ul",{ref:"valuesList",style:{display:"none"},onClick:this.selectValue},e))}})},{"../orb.utils":88,react:"react"}],96:[function(e,t,r){function n(e,t){function r(e,t){if(null==t)return"none"!=e.parentNode.parentNode.style.display;e.parentNode.parentNode.style.display=t?"":"none"}function n(){if(t){var e={values:t.staticValue,toExclude:t.excludeStatic};t.term?(p=!0,h=t.operator,d.toggleRegexpButtonVisibility(),t.regexpMode?(f=!0,d.toggleRegexpButtonState(),g=t.term.source):g=t.term,m.searchBox.value=g,d.applyFilterTerm(t.operator,t.term)):a=e,d.updateCheckboxes(e),d.updateAllCheckbox()}}function o(){d.toggleRegexpButtonVisibility(),s.addEventListener(m.filterContainer,"click",d.valueChecked),s.addEventListener(m.searchBox,"keyup",d.searchChanged),s.addEventListener(m.clearSearchButton,"click",d.clearSearchBox),s.addEventListener(m.okButton,"click",function(){var t=d.getCheckedValues();e.onFilter(h.name,h.regexpSupported&&p&&f?new RegExp(g,"i"):g,t.values,t.toExclude)}),s.addEventListener(m.cancelButton,"click",function(){e.destroy()})}function i(e,t,r){var n={x:0,y:0},o=!1;this.resizeMouseDown=function(e){if(0===s.getEventButton(e)){var t=s.getMousePageXY(e);o=!0,document.body.style.cursor="se-resize",n.x=t.pageX,n.y=t.pageY,s.stopPropagation(e),s.preventDefault(e)}},this.resizeMouseUp=function(){return o=!1,document.body.style.cursor="auto",!0},this.resizeMouseMove=function(i){if(o){var a=s.getMousePageXY(i),l=r.getBoundingClientRect(),c=e.getBoundingClientRect(),u=t.tBodies[0].getBoundingClientRect(),d=c.right-c.left,p=c.bottom-c.top,f={x:d<=301&&a.pageX<l.left?0:a.pageX-n.x,y:p<=223&&a.pageY<l.top?0:a.pageY-n.y},h=d+f.x,g=p+f.y;n.x=a.pageX,n.y=a.pageY,h>=301&&(e.style.width=h+"px"),g>=223&&(e.style.height=g+"px",t.tBodies[0].style.height=u.bottom-u.top+f.y+"px"),s.stopPropagation(i),s.preventDefault(i)}},s.addEventListener(r,"mousedown",this.resizeMouseDown),s.addEventListener(document,"mouseup",this.resizeMouseUp),s.addEventListener(document,"mousemove",this.resizeMouseMove)}var a,u,d=this,p=!1,f=!1,h=l.Operators.MATCH,g="",m={filterContainer:null,checkboxes:{},searchBox:null,operatorBox:null,allCheckbox:null,addCheckbox:null,enableRegexButton:null,clearSearchButton:null,okButton:null,cancelButton:null,resizeGrip:null};this.init=function(e){m.filterContainer=e,m.checkboxes={},m.searchBox=m.filterContainer.rows[0].cells[2].children[0].rows[0].cells[0].children[0],m.clearSearchButton=m.filterContainer.rows[0].cells[2].children[0].rows[0].cells[1].children[0],m.operatorBox=m.filterContainer.rows[0].cells[0].children[0],m.okButton=m.filterContainer.rows[2].cells[0].children[0],m.cancelButton=m.filterContainer.rows[2].cells[0].children[1],m.resizeGrip=m.filterContainer.rows[2].cells[1].children[0];for(var t=m.filterContainer.rows[1].cells[0].children[0].rows,r=0;r<t.length;r++){var a=t[r].cells[0].children[0];m.checkboxes[a.value]=a}m.allCheckbox=m.checkboxes[l.ALL],m.blanckCheckbox=m.checkboxes[l.BLANK],m.addCheckbox=null,m.enableRegexButton=m.filterContainer.rows[0].cells[1],u=new i(m.filterContainer.parentNode,m.filterContainer.rows[1].cells[0].children[0],m.resizeGrip),n(),o()},this.onOperatorChanged=function(e){h.name!==e&&(h=l.Operators.get(e),d.toggleRegexpButtonVisibility(),d.searchChanged("operatorChanged"))},this.clearSearchBox=function(){m.searchBox.value="",d.searchChanged()},this.toggleRegexpButtonVisibility=function(){h.regexpSupported?(s.addEventListener(m.enableRegexButton,"click",d.regexpActiveChanged),c.removeClass(m.enableRegexButton,"srchtyp-col-hidden")):(s.removeEventListener(m.enableRegexButton,"click",d.regexpActiveChanged),c.addClass(m.enableRegexButton,"srchtyp-col-hidden"))},this.toggleRegexpButtonState=function(){m.enableRegexButton.className=m.enableRegexButton.className.replace("srchtyp-col-active",""),f?c.addClass(m.enableRegexButton,"srchtyp-col-active"):c.removeClass(m.enableRegexButton,"srchtyp-col-active")},this.regexpActiveChanged=function(){f=!f,d.toggleRegexpButtonState(),d.searchChanged("regexModeChanged")},this.valueChecked=function(e){var t=e.target||e.srcElement;t&&t.type&&"checkbox"===t.type&&(t==m.allCheckbox?d.updateCheckboxes({values:m.allCheckbox.checked}):d.updateAllCheckbox())},this.applyFilterTerm=function(t,n){var o=!n,i=t.regexpSupported&&p?f?n:s.escapeRegex(n):n;r(m.allCheckbox,o);for(var a=0;a<e.values.length;a++){var l=e.values[a],c=null!=l?m.checkboxes[l]:m.blanckCheckbox,u=!p||t.func(l,i);r(c,u),c.checked=u}},this.searchChanged=function(e){var t=(m.searchBox.value||"").trim();if("operatorChanged"===e||"regexModeChanged"===e&&t||t!=g){g=t;var r=p;(p=""!==t)&&!r&&(a=d.getCheckedValues()),("operatorChanged"!==e||p)&&d.applyFilterTerm(h,t),!p&&r&&d.updateCheckboxes(a),d.updateAllCheckbox()}},this.getCheckedValues=function(){if(p||m.allCheckbox.indeterminate){var t,n,o,i,a=0,s=0;for(n=0;n<e.values.length;n++)r(i=null!=(o=e.values[n])?m.checkboxes[o]:m.blanckCheckbox)&&(a++,i.checked&&s++);var c=!1;if(0===s)t=l.NONE;else if(s==a)t=l.ALL;else for(t=[],c=s>a/2+1,n=0;n<e.values.length;n++)r(i=null!=(o=e.values[n])?m.checkboxes[o]:m.blanckCheckbox)&&(!c&&i.checked||c&&!i.checked)&&t.push(o);return{values:t,toExclude:c}}return{values:m.allCheckbox.checked?l.ALL:l.NONE,toExclude:!1}},this.updateCheckboxes=function(t){for(var n=t?t.values:null,o=s.isArray(n)?null:null==n||n===l.ALL||n!==l.NONE&&!!n,i=0;i<e.values.length;i++){var a=e.values[i],c=null!=a?m.checkboxes[a]:m.blanckCheckbox;if(r(c))if(null!=o)c.checked=o;else{var u=n.indexOf(a)>=0;c.checked=t.toExclude?!u:u}}},this.updateAllCheckbox=function(){if(!p){for(var t=null,r=0;r<e.values.length;r++){var n=e.values[r],o=null!=n?m.checkboxes[n]:m.blanckCheckbox;if(null==t)t=o.checked;else if(t!==o.checked){t="indeterminate";break}}"indeterminate"===t?(m.allCheckbox.indeterminate=!0,m.allCheckbox.checked=!1):(m.allCheckbox.indeterminate=!1,m.allCheckbox.checked=t)}}}var o="undefined"==typeof window?e("react"):window.React,i="undefined"==typeof window?e("react-dom"):window.ReactDOM,a=e("./orb.react.Dropdown.jsx"),s=e("../orb.utils"),l=e("../orb.filtering"),c=e("../orb.utils.dom");t.exports=o.createClass({displayName:"exports",pgridwidget:null,values:null,filterManager:null,getInitialState:function(){return this.pgridwidget=this.props.pivotTableComp.pgridwidget,{}},destroy:function(){var e=i.findDOMNode(this).parentNode;i.unmountComponentAtNode(e),e.parentNode.removeChild(e)},onFilter:function(e,t,r,n){this.props.pivotTableComp.applyFilter(this.props.field,e,t,r,n),this.destroy()},onMouseDown:function(e){for(var t=i.findDOMNode(this).parentNode,r=e.target||e.srcElement;null!=r;){if(r==t)return!0;r=r.parentNode}this.destroy()},onMouseWheel:function(e){for(var t=this.refs.valuesTable,r=e.target||e.srcElement;null!=r;){if(r==t)return void(t.scrollHeight<=t.clientHeight&&(s.stopPropagation(e),s.preventDefault(e)));r=r.parentNode}this.destroy()},componentWillMount:function(){s.addEventListener(document,"mousedown",this.onMouseDown),s.addEventListener(document,"wheel",this.onMouseWheel),s.addEventListener(window,"resize",this.destroy)},componentDidMount:function(){this.filterManager.init(i.findDOMNode(this))},componentWillUnmount:function(){s.removeEventListener(document,"mousedown",this.onMouseDown),s.removeEventListener(document,"wheel",this.onMouseWheel),s.removeEventListener(window,"resize",this.destroy)},render:function(){function e(e,r){return t.push(o.createElement("tr",{key:e},o.createElement("td",{className:"fltr-chkbox"},o.createElement("input",{type:"checkbox",value:e,defaultChecked:"checked"})),o.createElement("td",{className:"fltr-val",title:r||e},r||e)))}var t=[];this.filterManager=new n(this,this.pgridwidget.pgrid.getFieldFilter(this.props.field)),this.values=this.pgridwidget.pgrid.getFieldValues(this.props.field),e(l.ALL,"(Show All)");for(var r=0;r<this.values.length;r++)null!=this.values[r]?e(this.values[r]):e(l.BLANK,"(Blank)");var i=this.props.pivotTableComp.pgrid.config.theme.getButtonClasses().orbButton,s=this.props.pivotTableComp.fontStyle,c=this.pgridwidget.pgrid.getFieldFilter(this.props.field);return o.createElement("table",{className:"fltr-scntnr",style:s},o.createElement("tbody",null,o.createElement("tr",null,o.createElement("td",{className:"srchop-col"},o.createElement(a,{values:[l.Operators.MATCH.name,l.Operators.NOTMATCH.name,l.Operators.EQ.name,l.Operators.NEQ.name,l.Operators.GT.name,l.Operators.GTE.name,l.Operators.LT.name,l.Operators.LTE.name],selectedValue:c&&c.operator?c.operator.name:l.Operators.MATCH.name,onValueChanged:this.filterManager.onOperatorChanged})),o.createElement("td",{className:"srchtyp-col",title:"Enable/disable Regular expressions"},".*"),o.createElement("td",{className:"srchbox-col"},o.createElement("table",{style:{width:"100%"}},o.createElement("tbody",null,o.createElement("tr",null,o.createElement("td",null,o.createElement("input",{type:"text",placeholder:"search"})),o.createElement("td",null,o.createElement("div",{className:"srchclear-btn",onClick:this.clearFilter},"x"))))))),o.createElement("tr",null,o.createElement("td",{colSpan:"3",className:"fltr-vals-col"},o.createElement("table",{className:"fltr-vals-tbl",ref:"valuesTable"},o.createElement("tbody",null,t)))),o.createElement("tr",{className:"bottom-row"},o.createElement("td",{className:"cnfrm-btn-col",colSpan:"2"},o.createElement("input",{type:"button",className:i,value:"Ok",style:{float:"left"}}),o.createElement("input",{type:"button",className:i,value:"Cancel",style:{float:"left"}})),o.createElement("td",{className:"resize-col"},o.createElement("div",null)))))}})},{"../orb.filtering":75,"../orb.utils":88,"../orb.utils.dom":87,"./orb.react.Dropdown.jsx":95,react:"react","react-dom":"react-dom"}],97:[function(e,t,r){var n="undefined"==typeof window?e("react"):window.React,o=e("../orb.utils");t.exports=n.createClass({displayName:"exports",render:function(){var e=this.props.data,t=this.props.headers,r=this.props.theme.getGridClasses(),i=[];if(t&&t.length>0){for(var a=[],s=0;s<t.length;s++)a.push(n.createElement("th",{key:"h"+s},t[s]));i.push(n.createElement("tr",{key:"h"},a))}if(e&&e.length>0)for(var l=0;l<e.length;l++){var c=[];if(o.isArray(e[l]))for(var u=0;u<e[l].length;u++)c.push(n.createElement("td",{key:l+""+u},e[l][u]));else for(var d in e[l])e[l].hasOwnProperty(d)&&c.push(n.createElement("td",{key:l+""+d},e[l][d]));i.push(n.createElement("tr",{key:l},c))}return n.createElement("table",{className:r.table},n.createElement("tbody",null,i))}})},{"../orb.utils":88,react:"react"}],98:[function(e,t,r){var n="undefined"==typeof window?e("react"):window.React,o="undefined"==typeof window?e("react-dom"):window.ReactDOM,i=e("./orb.react.FilterPanel.jsx"),a=e("./orb.react.DragManager.jsx"),s=e("../orb.utils"),l=e("../orb.axe"),c=e("../orb.utils.dom"),u=0;t.exports=n.createClass({displayName:"PivotButton",getInitialState:function(){return this.pbid=++u,{pos:{x:0,y:0},startpos:{x:0,y:0},mousedown:!1,dragging:!1}},onFilterMouseDown:function(e){if(0===e.button){var t=this.refs.filterButton,r=c.getOffset(t),a=document.createElement("div"),l=n.createFactory(i)({field:this.props.field.name,pivotTableComp:this.props.pivotTableComp});a.className=this.props.pivotTableComp.pgrid.config.theme.getFilterClasses().container,a.style.top=r.y+"px",a.style.left=r.x+"px",document.body.appendChild(a),o.render(l,a),s.stopPropagation(e),s.preventDefault(e)}},componentDidUpdate:function(){this.props.pivotTableComp.pgrid.config.canMoveFields&&(this.state.mousedown?this.state.mousedown&&(a.setDragElement(this),s.addEventListener(document,"mousemove",this.onMouseMove)):(a.setDragElement(null),s.removeEventListener(document,"mousemove",this.onMouseMove)))},componentDidMount:function(){this.props.pivotTableComp.registerThemeChanged(this.updateClasses)},componentWillUnmount:function(){this.props.pivotTableComp.unregisterThemeChanged(this.updateClasses),s.removeEventListener(document,"mousemove",this.onMouseMove)},onMouseDown:function(e){if(0===e.button){if(e.ctrlKey)this.props.pivotTableComp.pgridwidget.toggleFieldExpansion(this.props.axetype,this.props.field);else{var t=c.getOffset(o.findDOMNode(this)),r=s.getMousePageXY(e);this.setState({mousedown:!0,mouseoffset:{x:t.x-r.pageX,y:t.y-r.pageY},startpos:{x:r.pageX,y:r.pageY}})}s.stopPropagation(e),s.preventDefault(e)}},onMouseUp:function(e){var t=this.state.dragging;this.setState({mousedown:!1,dragging:!1,size:null,pos:{x:0,y:0}}),e.ctrlKey||t||this.props.pivotTableComp.sort(this.props.axetype,this.props.field)},onMouseMove:function(e){if(this.props.pivotTableComp.pgrid.config.canMoveFields&&this.state.mousedown){var t=null,r=s.getMousePageXY(e);t=this.state.dragging?this.state.size:c.getSize(o.findDOMNode(this));var n={x:r.pageX+this.state.mouseoffset.x,y:r.pageY+this.state.mouseoffset.y};this.state.dragging&&n.x==this.state.pos.x&&n.y==this.state.pos.y||(this.setState({dragging:!0,size:t,pos:n}),a.elementMoved()),s.stopPropagation(e),s.preventDefault(e)}},updateClasses:function(){o.findDOMNode(this).className=this.props.pivotTableComp.pgrid.config.theme.getButtonClasses().pivotButton},render:function(){var e=this,t={left:e.state.pos.x+"px",top:e.state.pos.y+"px",position:e.state.dragging?"fixed":"",zIndex:101};e.state.size&&(t.width=e.state.size.width+"px");var r="asc"===e.props.field.sort.order?"sort-asc":"desc"===e.props.field.sort.order?"sort-desc":"",o=(e.state.dragging?"":"fltr-btn")+(this.props.pivotTableComp.pgrid.isFieldFiltered(this.props.field.name)?" fltr-btn-active":""),i="";return e.props.axetype===l.Type.DATA&&(i=n.createElement("small",null," ("+e.props.field.aggregateFuncName+")")),n.createElement("div",{key:e.props.field.name,className:this.props.pivotTableComp.pgrid.config.theme.getButtonClasses().pivotButton,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,style:t},n.createElement("table",null,n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{className:"caption"},e.props.field.caption,i),n.createElement("td",null,n.createElement("div",{className:"sort-indicator "+r})),n.createElement("td",{className:"filter"},n.createElement("div",{ref:"filterButton",className:o,onMouseDown:e.state.dragging?null:this.onFilterMouseDown}))))))}})},{"../orb.axe":71,"../orb.utils":88,"../orb.utils.dom":87,"./orb.react.DragManager.jsx":91,"./orb.react.FilterPanel.jsx":96,react:"react","react-dom":"react-dom"}],99:[function(e,t,r){function n(e){var t=e.cell,r=t.cssclass;t.template;return t.visible()||(r+=" cell-hidden"),t.type===a.HeaderType.SUB_TOTAL&&t.expanded&&(r+=" header-st-exp"),t.type===a.HeaderType.GRAND_TOTAL&&(1===t.dim.depth?r+=" header-nofields":t.dim.depth>2&&(r+=" header-gt-exp")),e.leftmost&&(r+=" "+("cell-template-datavalue"===t.template?"cell":"header")+"-leftmost"),e.topmost&&(r+=" cell-topmost"),r}var o="undefined"==typeof window?e("react"):window.React,i="undefined"==typeof window?e("react-dom"):window.ReactDOM,a=e("../orb.ui.header"),s=e("../orb.utils.dom"),l=null,c=null;t.exports=o.createClass({displayName:"exports",expand:function(){this.props.pivotTableComp.pgridwidget.expandRow(this.props.cell)},collapse:function(){this.props.pivotTableComp.pgridwidget.collapseRow(this.props.cell)},updateCellInfos:function(){var e=i.findDOMNode(this),t=this.props.cell;if(e.__orb=e.__orb||{},t.visible()){var r=this.refs.cellContent,n=[],o=null==l,a=!this.props.leftmost&&null==c,u=e.textContent||e.innerText;if(o&&n.push("padding-left"),a&&n.push("border-left-width"),n.length>0){var d=s.getStyle(e,n,!0);o&&(l=parseFloat(d[0])),a&&(c=parseFloat(d[o?1:0]))}s.removeClass(e,"cell-hidden"),e.__orb._visible=!0,u==e.__orb._lastText&&e.__orb._textWidth||(e.__orb._lastText=u,e.__orb._textWidth=s.getSize(r).width),e.__orb._colSpan=this.props.cell.hspan(!0)||1,e.__orb._rowSpan=this.props.cell.vspan(!0)||1,e.__orb._paddingLeft=l,e.__orb._paddingRight=l,e.__orb._borderLeftWidth=this.props.leftmost?0:c,e.__orb._borderRightWidth=0}else e.__orb._visible=!1},componentDidMount:function(){this.updateCellInfos()},componentDidUpdate:function(){this.updateCellInfos()},shouldComponentUpdate:function(e,t){return!(e.cell&&e.cell==this.props.cell&&!this._latestVisibleState&&!e.cell.visible())},_latestVisibleState:!1,render:function(){var e,t,r=this,i=this.props.cell,s=[],l=!1;switch(this._latestVisibleState=i.visible(),i.template){case"cell-template-row-header":case"cell-template-column-header":var c=i.type===a.HeaderType.WRAPPER&&i.dim.field.subTotal.visible&&i.dim.field.subTotal.collapsible,u=i.type===a.HeaderType.SUB_TOTAL&&!i.expanded;c||u?(l=!0,s.push(o.createElement("table",{key:"header-value",ref:"cellContent"},o.createElement("tbody",null,o.createElement("tr",null,o.createElement("td",{className:"orb-tgl-btn"},o.createElement("div",{className:"orb-tgl-btn-"+(c?"down":"right"),onClick:c?this.collapse:this.expand})),o.createElement("td",{className:"hdr-val"},o.createElement("div",{dangerouslySetInnerHTML:{__html:i.value||"&#160;"}}))))))):e=(i.value||"&#160;")+(i.type===a.HeaderType.SUB_TOTAL?" Total":"");break;case"cell-template-dataheader":e=i.value.caption;break;case"cell-template-datavalue":e=i.datafield&&i.datafield.formatFunc?i.datafield.formatFunc()(i.value):i.value,t=function(){r.props.pivotTableComp.pgridwidget.drilldown(i,r.props.pivotTableComp.id)}}if(!l){var d;switch(i.template){case"cell-template-datavalue":d="cell-data";break;default:"cell-template-dataheader"!=i.template&&i.type!==a.HeaderType.GRAND_TOTAL&&(d="hdr-val")}s.push(o.createElement("div",{key:"cell-value",ref:"cellContent",className:d},o.createElement("div",{dangerouslySetInnerHTML:{__html:e||"&#160;"}})))}return o.createElement("td",{className:n(this.props),onDoubleClick:t,colSpan:i.hspan(),rowSpan:i.vspan()},o.createElement("div",null,s))}})},{"../orb.ui.header":84,"../orb.utils.dom":87,react:"react","react-dom":"react-dom"}],100:[function(e,t,r){var n="undefined"==typeof window?e("react"):window.React,o="undefined"==typeof window?e("react-dom"):window.ReactDOM,i=e("./orb.react.DragManager.jsx"),a=e("./orb.react.PivotTable.SizingManager.jsx"),s=e("./orb.react.Toolbar.jsx"),l=e("./orb.react.PivotTable.UpperButtons.jsx"),c=e("./orb.react.PivotTable.ColumnButtons.jsx"),u=e("./orb.react.Chart.jsx"),d=e("../orb.utils.dom"),p=1,f={};t.exports=n.createClass({displayName:"exports",id:p++,pgrid:null,pgridwidget:null,fontStyle:null,getInitialState:function(){return i.init(this),f[this.id]=[],this.registerThemeChanged(this.updateClasses),this.pgridwidget=this.props.pgridwidget,this.pgrid=this.pgridwidget.pgrid,{}},toggleStackedBars:function(){this.pgridwidget.toggleStackedBars()},sort:function(e,t){this.pgridwidget.sort(e,t)},moveButton:function(e,t,r){this.pgridwidget.moveField(e.props.field.name,e.props.axetype,t,r)},applyFilter:function(e,t,r,n,o){this.pgridwidget.applyFilter(e,t,r,n,o)},registerThemeChanged:function(e){e&&f[this.id].push(e)},unregisterThemeChanged:function(e){var t;e&&(t=f[this.id].indexOf(e))>=0&&f[this.id].splice(t,1)},changeTheme:function(e){if(this.pgridwidget.pgrid.config.setTheme(e))for(var t=0;t<f[this.id].length;t++)f[this.id][t]()},updateClasses:function(){var e=o.findDOMNode(this),t=this.pgridwidget.pgrid.config.theme.getPivotClasses();e.className=t.container,e.children[1].className=t.table},componentDidUpdate:function(){this.synchronizeWidths()},componentDidMount:function(){var e=d.getStyle(o.findDOMNode(this),["font-family","font-size"],!0);this.fontStyle={fontFamily:e[0],fontSize:e[1]},this.synchronizeWidths()},synchronizeWidths:function(){var e=a.synchronizeWidths(this);e.fontFamily=this.fontStyle.fontFamily,e.fontSize=this.fontStyle.fontSize,this.refs.chart.setState({canRender:!0,chartStyle:e})},render:function(){var e=this,t=this.pgridwidget.pgrid.config,r=t.theme.getPivotClasses(),o={};return t.width&&(o.width=t.width),t.height&&(o.height=t.height),n.createElement("div",{className:r.container,style:o,ref:"pivot"},t.toolbar&&t.toolbar.visible?n.createElement("div",{ref:"toolbar",className:"orb-toolbar"},n.createElement(s,{pivotTableComp:e})):null,n.createElement("table",{id:"tbl-"+e.id,ref:"pivotWrapperTable",className:r.table},n.createElement("colgroup",null,n.createElement("col",{ref:"column1"}),n.createElement("col",{ref:"column2"})),n.createElement("tbody",null,n.createElement("tr",{ref:"upperButtons"},n.createElement("td",{colSpan:"2"},n.createElement(l,{pivotTableComp:e}))),n.createElement("tr",{ref:"colButtons"},n.createElement("td",null),n.createElement("td",{style:{padding:"11px 4px !important"}},n.createElement(c,{pivotTableComp:e}))),n.createElement("tr",null,n.createElement("td",{style:{position:"relative"}}),n.createElement("td",null,n.createElement(u,{pivotTableComp:e,chartMode:t.chartMode,ref:"chart"}))))))}})},{"../orb.utils.dom":87,"./orb.react.Chart.jsx":89,"./orb.react.DragManager.jsx":91,"./orb.react.PivotTable.ColumnButtons.jsx":102,"./orb.react.PivotTable.SizingManager.jsx":107,"./orb.react.PivotTable.UpperButtons.jsx":108,"./orb.react.Toolbar.jsx":111,react:"react","react-dom":"react-dom"}],101:[function(e,t,r){var n="undefined"==typeof window?e("react"):window.React,o=e("./orb.react.PivotCell.jsx"),i=e("../orb.axe");t.exports=n.createClass({displayName:"exports",render:function(){var e,t=this,r=(this.props.row.length,this.props.row[0],!1),a=t.props.layoutInfos,s={},l=!1;return e=this.props.row.map(function(e,s){var c=!1;return e.visible()&&a&&(e.dim?(e.dim.isRoot&&void 0===a.topMostCells[e.dim.depth-1]||!e.dim.isRoot&&void 0===a.topMostCells[e.dim.depth]&&(e.dim.parent.isRoot||a.topMostCells[e.dim.depth+1]===e.dim.parent))&&(l=!0,a.topMostCells[e.dim.depth]=e.dim):a.topMostCells[0]||(l=a.topMostCells[0]=!0),r||t.props.axetype!==i.Type.DATA&&t.props.axetype!==i.Type.COLUMNS||0!==a.lastLeftMostCellVSpan||(c=r=!0,a.lastLeftMostCellVSpan=e.vspan()-1)),n.createElement(o,{key:s,cell:e,leftmost:c,topmost:l,pivotTableComp:t.props.pivotTableComp})}),a&&a.lastLeftMostCellVSpan>0&&!r&&a.lastLeftMostCellVSpan--,n.createElement("tr",{style:s},e)}})},{"../orb.axe":71,"./orb.react.PivotCell.jsx":99,react:"react"}],102:[function(e,t,r){var n="undefined"==typeof window?e("react"):window.React,o=e("../orb.axe"),i=e("./orb.react.PivotButton.jsx"),a=e("./orb.react.DropTarget.jsx");t.exports=n.createClass({displayName:"exports",render:function(){var e=this,t=this.props.pivotTableComp.pgridwidget.pgrid.config.columnFields.map(function(t,r){return n.createElement(i,{key:t.name,field:t,axetype:o.Type.COLUMNS,position:r,pivotTableComp:e.props.pivotTableComp})});return n.createElement(a,{buttons:t,axetype:o.Type.COLUMNS})}})},{"../orb.axe":71,"./orb.react.DropTarget.jsx":93,"./orb.react.PivotButton.jsx":98,react:"react"}],103:[function(e,t,r){var n="undefined"==typeof window?e("react"):window.React,o=e("../orb.axe"),i=e("./orb.react.PivotRow.jsx");t.exports=n.createClass({displayName:"exports",render:function(){var e=this,t=this.props.pivotTableComp.pgridwidget,r=0===t.columns.headers.length?"":" columns-cntr",a={lastLeftMostCellVSpan:0,topMostCells:{}},s=t.columns.headers.map(function(t,r){return n.createElement(i,{key:r,row:t,axetype:o.Type.COLUMNS,pivotTableComp:e.props.pivotTableComp,layoutInfos:a})});return n.createElement("div",{className:"inner-table-container"+r,onWheel:this.props.pivotTableComp.onWheel},n.createElement("table",{className:"inner-table"},n.createElement("colgroup",null),n.createElement("tbody",null,s)))}})},{"../orb.axe":71,"./orb.react.PivotRow.jsx":101,react:"react"}],104:[function(e,t,r){var n="undefined"==typeof window?e("react"):window.React,o=e("../orb.axe"),i=e("./orb.react.PivotRow.jsx");t.exports=n.createClass({displayName:"exports",render:function(){var e=this,t={lastLeftMostCellVSpan:0,topMostCells:{}},r=this.props.pivotTableComp.pgridwidget.dataRows.map(function(r,a){return n.createElement(i,{key:a,row:r,axetype:o.Type.DATA,layoutInfos:t,pivotTableComp:e.props.pivotTableComp})});return n.createElement("div",{className:"inner-table-container data-cntr",onWheel:this.props.pivotTableComp.onWheel},n.createElement("table",{className:"inner-table"},n.createElement("colgroup",null),n.createElement("tbody",null,r)))}})},{"../orb.axe":71,"./orb.react.PivotRow.jsx":101,react:"react"}],105:[function(e,t,r){var n="undefined"==typeof window?e("react"):window.React,o=e("./orb.react.PivotButton.jsx"),i=e("./orb.react.DropTarget.jsx"),a=e("./orb.react.DropTargetVertical.jsx"),s=e("../orb.axe");t.exports=n.createClass({displayName:"exports",render:function(){var e=this,t=this.props.pivotTableComp.pgridwidget.pgrid.config,r=t.rowFields.map(function(t,r){return n.createElement(o,{key:t.name,field:t,axetype:s.Type.ROWS,position:r,pivotTableComp:e.props.pivotTableComp})});return t.chartMode.enabled?n.createElement(a,{buttons:r,axetype:s.Type.ROWS}):n.createElement(i,{buttons:r,axetype:s.Type.ROWS})}})},{"../orb.axe":71,"./orb.react.DropTarget.jsx":93,"./orb.react.DropTargetVertical.jsx":94,"./orb.react.PivotButton.jsx":98,react:"react"}],106:[function(e,t,r){var n="undefined"==typeof window?e("react"):window.React,o="undefined"==typeof window?e("react-dom"):window.ReactDOM,i=e("./orb.react.PivotRow.jsx"),a=e("../orb.axe");t.exports=n.createClass({displayName:"exports",setColGroup:function(e){var t=o.findDOMNode(this),r=this.refs.colgroup;t.style.tableLayout="auto",r.innerHTML="";for(var n=0;n<e.length;n++){var i=document.createElement("col");i.style.width=e[n]+8+"px",r.appendChild(i)}t.style.tableLayout="fixed"},render:function(){var e=this,t=this.props.pivotTableComp.pgridwidget,r=0===t.rows.headers.length?"":" rows-cntr",o={lastLeftMostCellVSpan:0,topMostCells:{}},s=t.rows.headers.map(function(t,r){return n.createElement(i,{key:r,row:t,axetype:a.Type.ROWS,layoutInfos:o,pivotTableComp:e.props.pivotTableComp})});return n.createElement("div",{className:"inner-table-container"+r,onWheel:this.props.pivotTableComp.onWheel},n.createElement("table",{className:"inner-table"},n.createElement("colgroup",{ref:"colgroup"}),n.createElement("tbody",null,s)))}})},{"../orb.axe":71,"./orb.react.PivotRow.jsx":101,react:"react","react-dom":"react-dom"}],107:[function(e,t,r){function n(e,t,r){var n,s=this,l=i.findDOMNode(e);this.node=t?l.children[0]:l,n=a.getSize(this.node),this.w=n.width,this.h=n.height,this.setStyle=function(e,t){s.node.style[e]=t+"px"},this.setParentStyle=function(e,t){s.node.parentNode.style[e]=t+"px"},this.getLargestWidths=function(e){for(var t={max:[],total:0},r=0;r<s.colWidths.length;r++)t.max.push(Math.max(s.colWidths[r],e.colWidths[r])),t.total+=t.max[r];return t},this.addToWidth=function(e){e>0&&(s.w+=e,s.colWidths[s.colWidths.length-1]+=e)},"table"===r&&o(this)}function o(e){if(e&&e.node){for(var t=e.node,r=[],n=0;n<t.rows.length;n++){for(var o=t.rows[n],i=0,a=null,s=0;s<o.cells.length;s++){var l=o.cells[s];if(l.__orb._visible)for(var c=Math.ceil(l.__orb._textWidth/l.__orb._colSpan+l.__orb._paddingLeft+l.__orb._paddingRight+l.__orb._borderLeftWidth+l.__orb._borderRightWidth),u=(l.__orb._rowSpan>1&&(l.__orb._rowSpan,t.rows.length),0);u<l.__orb._colSpan;u++){for(a=r[i];a&&a.inhibit>0;)a.inhibit--,a=r[++i];r.length-1<i?r.push({width:c}):c>r[i].width&&(r[i].width=c),r[i].inhibit=l.__orb._rowSpan-1,i++}}for(a=r[i];a;)a.inhibit>0&&a.inhibit--,a=r[++i]}e.w=0,e.colWidths=r.map(function(t,r){return e.w+=t.width,t.width})}}var i="undefined"==typeof window?e("react-dom"):window.ReactDOM,a=e("../orb.utils.dom"),s=t.exports={synchronizeWidths:function(e){if(e.pgridwidget.pgrid.config.chartMode.enabled)return s.synchronizePivotChartWidths(e);s.synchronizePivotTableWidths(e)},synchronizePivotChartWidths:function(e){var t=e.refs.pivotWrapperTable,r=new n(e.refs.pivot),o=new n(e.refs.toolbar),i=new n(e.refs.upperButtons),s=new n(e.refs.colButtons),l=new n(e.refs.rowButtons),c=(new n(e.refs.chart),Math.max(l.w,67)),u=r.w-c,d=e.pgridwidget.pgrid.config.height,p=d?d-(o?o.h+17:0)-(i.h+s.h):null;return a.updateTableColGroup(t,[c,u]),{width:u,height:p}},synchronizePivotTableWidths:function(e){var t=e.refs.pivotWrapperTable,r=new n(e.refs.pivot),o=new n(e.refs.toolbar),i=new n(e.refs.colHeaders,!0,"table"),s=new n(e.refs.rowHeaders,!0,"table"),l=new n(e.refs.dataCells,!0,"table"),c=new n(e.refs.upperButtons),u=new n(e.refs.colButtons),d=new n(e.refs.rowButtons,!0),p=new n(e.refs.horizontalScrollBar),f=new n(e.refs.verticalScrollBar),h=l.getLargestWidths(i),g=Math.max(s.w,d.w,67),m=Math.min(h.total+1,r.w-g-f.w),b=e.pgridwidget.pgrid.config.height,v=b?b-(o?o.h+17:0)-(c.h+u.h+i.h+p.h):null,y=v?Math.ceil(Math.min(v,l.h)):null;s.addToWidth(g-s.w),a.updateTableColGroup(l.node,h.max),a.updateTableColGroup(i.node,h.max),a.updateTableColGroup(s.node,s.colWidths),l.setStyle("width",h.total),i.setStyle("width",h.total),s.setStyle("width",g),l.setParentStyle("width",m),i.setParentStyle("width",m),y&&(l.setParentStyle("height",y),s.setParentStyle("height",y)),a.updateTableColGroup(t,[g,m,f.w,Math.max(r.w-(g+m+f.w),0)]),e.refs.horizontalScrollBar.refresh(),e.refs.verticalScrollBar.refresh()}}},{"../orb.utils.dom":87,"react-dom":"react-dom"}],108:[function(e,t,r){var n="undefined"==typeof window?e("react"):window.React,o=e("./orb.react.PivotButton.jsx"),i=e("./orb.react.DropTarget.jsx"),a=e("../orb.axe");t.exports=n.createClass({displayName:"exports",render:function(){var e,t=this,r=this.props.pivotTableComp.pgridwidget.pgrid.config;if(r.canMoveFields){var s=r.availablefields().map(function(e,r){return n.createElement(o,{key:e.name,field:e,axetype:null,position:r,pivotTableComp:t.props.pivotTableComp})});e=n.createElement("tr",null,n.createElement("td",{className:"flds-grp-cap av-flds text-muted"},n.createElement("div",null,"Fields")),n.createElement("td",{className:"av-flds"},n.createElement(i,{buttons:s,axetype:null})))}else e=null;var l=r.dataFields.map(function(e,r){return n.createElement(o,{key:e.name,field:e,axetype:a.Type.DATA,position:r,pivotTableComp:t.props.pivotTableComp})}),c=n.createElement("tr",null,n.createElement("td",{className:"flds-grp-cap text-muted"},n.createElement("div",null,"Data")),n.createElement("td",{className:"empty"},n.createElement(i,{buttons:l,axetype:a.Type.DATA})));return n.createElement("table",{className:"inner-table upper-buttons"},n.createElement("tbody",null,e,c))}})},{"../orb.axe":71,"./orb.react.DropTarget.jsx":93,"./orb.react.PivotButton.jsx":98,react:"react"}],109:[function(e,t,r){var n="undefined"==typeof window?e("react"):window.React,o="undefined"==typeof window?e("react-dom"):window.ReactDOM,i=e("./orb.react.DragManager.jsx"),a=e("./orb.react.PivotTable.SizingManager.jsx"),s=e("./orb.react.Toolbar.jsx"),l=e("./orb.react.PivotTable.UpperButtons.jsx"),c=e("./orb.react.PivotTable.ColumnButtons.jsx"),u=e("./orb.react.PivotTable.RowButtons.jsx"),d=e("./orb.react.PivotTable.RowHeaders.jsx"),p=e("./orb.react.PivotTable.ColumnHeaders.jsx"),f=e("./orb.react.PivotTable.DataCells.jsx"),h=e("./orb.react.ScrollBars.jsx"),g=h.HorizontalScrollBar,m=h.VerticalScrollBar,b=e("../orb.utils"),v=e("../orb.utils.dom"),y=1,w={};t.exports=n.createClass({displayName:"exports",id:y++,pgrid:null,pgridwidget:null,fontStyle:null,getInitialState:function(){return i.init(this),w[this.id]=[],this.registerThemeChanged(this.updateClasses),this.pgridwidget=this.props.pgridwidget,this.pgrid=this.pgridwidget.pgrid,{}},sort:function(e,t){this.pgridwidget.sort(e,t)},moveButton:function(e,t,r){this.pgridwidget.moveField(e.props.field.name,e.props.axetype,t,r)},toggleSubtotals:function(e){this.pgridwidget.toggleSubtotals(e)},toggleGrandtotal:function(e){this.pgridwidget.toggleGrandtotal(e)},applyFilter:function(e,t,r,n,o){this.pgridwidget.applyFilter(e,t,r,n,o)},registerThemeChanged:function(e){e&&w[this.id].push(e)},unregisterThemeChanged:function(e){var t;e&&(t=w[this.id].indexOf(e))>=0&&w[this.id].splice(t,1)},changeTheme:function(e){if(this.pgridwidget.pgrid.config.setTheme(e))for(var t=0;t<w[this.id].length;t++)w[this.id][t]()},updateClasses:function(){var e=o.findDOMNode(this),t=this.pgridwidget.pgrid.config.theme.getPivotClasses();e.className=t.container,e.children[1].className=t.table},componentDidUpdate:function(){this.synchronizeWidths()},componentDidMount:function(){var e=v.getStyle(o.findDOMNode(this),["font-family","font-size"],!0);this.fontStyle={fontFamily:e[0],fontSize:e[1]};var t=o.findDOMNode(this.refs.dataCells),r=t.children[0],n=o.findDOMNode(this.refs.colHeaders),i=o.findDOMNode(this.refs.rowHeaders);this.refs.horizontalScrollBar.setScrollClient(t,function(e){var o=Math.ceil(e*(v.getSize(r).width-v.getSize(t).width));n.scrollLeft=o,t.scrollLeft=o}),this.refs.verticalScrollBar.setScrollClient(t,function(e){var n=Math.ceil(e*(v.getSize(r).height-v.getSize(t).height));i.scrollTop=n,t.scrollTop=n}),this.synchronizeWidths()},onWheel:function(e){var t,r;e.currentTarget==o.findDOMNode(this.refs.colHeaders)?(t=this.refs.horizontalScrollBar,r=e.deltaX||e.deltaY):e.currentTarget!=o.findDOMNode(this.refs.rowHeaders)&&e.currentTarget!=o.findDOMNode(this.refs.dataCells)||(t=this.refs.verticalScrollBar,r=e.deltaY),t&&t.scroll(r,e.deltaMode)&&(b.stopPropagation(e),b.preventDefault(e))},synchronizeWidths:function(){a.synchronizeWidths(this),this.refs.horizontalScrollBar.refresh(),this.refs.verticalScrollBar.refresh()},render:function(){var e=this,t=this.pgridwidget.pgrid.config,r=t.theme.getPivotClasses(),o={};return t.width&&(o.width=t.width),t.height&&(o.height=t.height),n.createElement("div",{className:r.container,style:o,ref:"pivot"},t.toolbar&&t.toolbar.visible?n.createElement("div",{ref:"toolbar",className:"orb-toolbar"},n.createElement(s,{pivotTableComp:e})):null,n.createElement("table",{id:"tbl-"+e.id,ref:"pivotWrapperTable",className:r.table,style:{tableLayout:"fixed"}},n.createElement("colgroup",null,n.createElement("col",{ref:"column1"}),n.createElement("col",{ref:"column2"}),n.createElement("col",{ref:"column3"}),n.createElement("col",{ref:"column4"})),n.createElement("tbody",null,n.createElement("tr",{ref:"upperButtons"},n.createElement("td",{colSpan:"4"},n.createElement(l,{pivotTableComp:e}))),n.createElement("tr",{ref:"colButtons"},n.createElement("td",null),n.createElement("td",{style:{padding:"11px 4px !important"}},n.createElement(c,{pivotTableComp:e})),n.createElement("td",{colSpan:"2"})),n.createElement("tr",null,n.createElement("td",{style:{position:"relative"}},n.createElement(u,{pivotTableComp:e,ref:"rowButtons"})),n.createElement("td",null,n.createElement(p,{pivotTableComp:e,ref:"colHeaders"})),n.createElement("td",{colSpan:"2"})),n.createElement("tr",null,n.createElement("td",null,n.createElement(d,{pivotTableComp:e,ref:"rowHeaders"})),n.createElement("td",null,n.createElement(f,{pivotTableComp:e,ref:"dataCells"})),n.createElement("td",null,n.createElement(m,{pivotTableComp:e,ref:"verticalScrollBar"})),n.createElement("td",null)),n.createElement("tr",null,n.createElement("td",null),n.createElement("td",null,n.createElement(g,{pivotTableComp:e,ref:"horizontalScrollBar"})),n.createElement("td",{colSpan:"2"})))),n.createElement("div",{className:"orb-overlay orb-overlay-hidden",id:"drilldialog"+e.id}))}})},{"../orb.utils":88,"../orb.utils.dom":87,"./orb.react.DragManager.jsx":91,"./orb.react.PivotTable.ColumnButtons.jsx":102,"./orb.react.PivotTable.ColumnHeaders.jsx":103,"./orb.react.PivotTable.DataCells.jsx":104,"./orb.react.PivotTable.RowButtons.jsx":105,"./orb.react.PivotTable.RowHeaders.jsx":106,"./orb.react.PivotTable.SizingManager.jsx":107,"./orb.react.PivotTable.UpperButtons.jsx":108,"./orb.react.ScrollBars.jsx":110,"./orb.react.Toolbar.jsx":111,react:"react","react-dom":"react-dom"}],110:[function(e,t,r){function n(e){var t=this;this.scrollBarComp=e,this.callback=null,this.raise=function(){t.callback&&t.callback(t.scrollBarComp.getScrollPercent())}}var o="undefined"==typeof window?e("react"):window.React,i="undefined"==typeof window?e("react-dom"):window.ReactDOM,a=e("../orb.utils"),s=e("../orb.utils.dom"),l={scrollEvent:null,scrollClient:null,getInitialState:function(){return{size:16,mousedown:!1,thumbOffset:0}},componentDidMount:function(){this.scrollEvent=new n(this)},componentDidUpdate:function(){this.state.mousedown?this.state.mousedown&&(a.addEventListener(document,"mousemove",this.onMouseMove),a.addEventListener(document,"mouseup",this.onMouseUp)):(a.removeEventListener(document,"mousemove",this.onMouseMove),a.removeEventListener(document,"mouseup",this.onMouseUp))},componentWillUnmount:function(){a.removeEventListener(document,"mousemove",this.onMouseMove),a.removeEventListener(document,"mouseup",this.onMouseUp)},onMouseDown:function(e){if(0===e.button){var t=this.refs.scrollThumb,r=s.getParentOffset(t),n=a.getMousePageXY(e);s.addClass(t,"orb-scrollthumb-hover"),this.setState({mousedown:!0,mouseoffset:n[this.mousePosProp],thumbOffset:r[this.posProp]}),a.stopPropagation(e),a.preventDefault(e)}},onMouseUp:function(){if(this.state.mousedown){var e=this.refs.scrollThumb;s.removeClass(e,"orb-scrollthumb-hover")}this.setState({mousedown:!1})},onMouseMove:function(e){if(this.state.mousedown){a.stopPropagation(e),a.preventDefault(e);var t=a.getMousePageXY(e),r=t[this.mousePosProp]-this.state.mouseoffset;this.state.mouseoffset=t[this.mousePosProp],this.scroll(r)}},getScrollSize:function(){return null!=this.scrollClient?s.getSize(this.scrollClient)[this.sizeProp]:s.getSize(i.findDOMNode(this))[this.sizeProp]},setScrollClient:function(e,t){this.scrollClient=e,this.scrollEvent.callback=t},getScrollPercent:function(){var e=this.getScrollSize()-this.state.size;return e<=0?0:this.state.thumbOffset/e},refresh:function(){if(this.scrollClient){var e=this.scrollClient.children[0],t=s.getSize(this.scrollClient),r=s.getSize(e),n=this.getScrollSize(),o=t[this.sizeProp]>=r[this.sizeProp]?0:t[this.sizeProp]/r[this.sizeProp]*n;this.setState({containerSize:n,size:o,thumbOffset:Math.min(this.state.thumbOffset,n-o)},this.scrollEvent.raise)}},scroll:function(e,t){if(this.state.size>0){1==t&&(e*=8);var r=this.getScrollSize()-this.state.size,n=this.state.thumbOffset+e;if(n<0&&(n=0),n>r&&(n=r),this.state.thumbOffset!=n)return this.setState({thumbOffset:n},this.scrollEvent.raise),!0}return!1},onWheel:function(e){this.scroll(e.deltaY,e.deltaMode),a.stopPropagation(e),a.preventDefault(e)},render:function(){var e={padding:0};e[this.sizeProp]=this.state.size,e[this.offsetCssProp]=this.state.thumbOffset;var t={};t[this.sizeProp]=this.state.containerSize;var r="orb-scrollthumb "+this.props.pivotTableComp.pgrid.config.theme.getButtonClasses().scrollBar,n=this.state.size<=0?null:o.createElement("div",{className:r,style:e,ref:"scrollThumb",onMouseDown:this.onMouseDown});return o.createElement("div",{className:this.cssClass,style:t,onWheel:this.onWheel},n)}};t.exports.HorizontalScrollBar=o.createClass({displayName:"HorizontalScrollBar",mixins:[l],posProp:"x",mousePosProp:"pageX",sizeProp:"width",offsetCssProp:"left",cssClass:"orb-h-scrollbar"}),t.exports.VerticalScrollBar=o.createClass({displayName:"VerticalScrollBar",mixins:[l],posProp:"y",mousePosProp:"pageY",sizeProp:"height",offsetCssProp:"top",cssClass:"orb-v-scrollbar"})},{"../orb.utils":88,"../orb.utils.dom":87,react:"react","react-dom":"react-dom"}],111:[function(e,t,r){var n="undefined"==typeof window?e("react"):window.React,o=e("../orb.axe"),i=e("../orb.pgrid"),a=e("../orb.utils.dom");t.exports=n.createClass({displayName:"exports",_toInit:[],componentDidMount:function(){for(var e=0;e<this._toInit.length;e++){var t=this._toInit[e];t.init(this.props.pivotTableComp,this.refs[t.ref])}},componentDidUpdate:function(){for(var e=0;e<this._toInit.length;e++){var t=this._toInit[e];t.init(this.props.pivotTableComp,this.refs[t.ref])}},createCallback:function(e){if(null!=e){var t=this.props.pivotTableComp;return function(r){e(t,r.target||r.srcElement)}}return null},render:function(){var e=this.props.pivotTableComp.pgridwidget.pgrid.config;if(e.toolbar&&e.toolbar.visible){var t=e.toolbar.buttons?c.buttons.concat(e.toolbar.buttons):c.buttons,r=this.props.pivotTableComp.pgridwidget.pgrid.getViewType(),o=[];this._toInit=[];for(var i=0;i<t.length;i++){var a=t[i],s="btn"+i;a.viewType&&r!=a.viewType||("separator"==a.type?o.push(n.createElement("div",{key:i,className:"orb-tlbr-sep"})):"label"==a.type?o.push(n.createElement("div",{key:i,className:"orb-tlbr-lbl"},a.text)):o.push(n.createElement("div",{key:i,className:"orb-tlbr-btn "+a.cssClass,title:a.tooltip,ref:s,onClick:this.createCallback(a.action)})),a.init&&this._toInit.push({ref:s,init:a.init}))}return n.createElement("div",null,o)}return n.createElement("div",null)}});var s=e("../orb.export.excel"),l={};l[i.ViewType.TABULAR]="tabular-view",l[i.ViewType.BAR_CHART]="bar-chart-view",l[i.ViewType.STACKED_BAR_CHART]="stacked-bar-chart-view",l[i.ViewType.PIE_CHART]="pie-chart-view";var c={exportToExcel:function(e,t){var r=document.createElement("a");r.download="orbpivotgrid.xls",r.href=s(e.props.pgridwidget),document.body.appendChild(r),r.click(),document.body.removeChild(r)},expandAllRows:function(e,t){e.pgridwidget.toggleFieldExpansion(o.Type.ROWS,null,!0)},collapseAllRows:function(e,t){e.pgridwidget.toggleFieldExpansion(o.Type.ROWS,null,!1)},expandAllColumns:function(e,t){e.pgridwidget.toggleFieldExpansion(o.Type.COLUMNS,null,!0)},collapseAllColumns:function(e,t){e.pgridwidget.toggleFieldExpansion(o.Type.COLUMNS,null,!1)},updateSubtotalsButton:function(e,t,r){var n=t.pgridwidget.areSubtotalsVisible(e);r.style.display=null===n?"none":"";var o="",i="";n?(o="subtotals-visible",i="subtotals-hidden"):(o="subtotals-hidden",i="subtotals-visible"),a.removeClass(r,i),a.addClass(r,o)},initSubtotals:function(e){var t=this;return function(r,n){t.updateSubtotalsButton(e,r,n)}},toggleSubtotals:function(e){var t=this;return function(r,n){r.toggleSubtotals(e),t.updateSubtotalsButton(e,r,n)}},updateGrandtotalButton:function(e,t,r){var n=t.pgridwidget.isGrandtotalVisible(e);r.style.display=null===n?"none":"";var o="",i="";n?(o="grndtotal-visible",i="grndtotal-hidden"):(o="grndtotal-hidden",i="grndtotal-visible"),a.removeClass(r,i),a.addClass(r,o)},initGrandtotal:function(e){var t=this;return function(r,n){t.updateGrandtotalButton(e,r,n)}},toggleGrandtotal:function(e){var t=this;return function(r,n){r.toggleGrandtotal(e),t.updateGrandtotalButton(e,r,n)}},updateViewButton:function(e,t,r){var n=l[e],o=n+"-active";e==t.pgridwidget.getViewType()?(a.removeClass(r,n),a.addClass(r,o)):(a.removeClass(r,o),a.addClass(r,n))},initView:function(e){var t=this;return function(r,n){t.updateViewButton(e,r,n)}},toggleView:function(e){var t=this;return function(r,n){r.pgridwidget.setViewType(e),t.updateViewButton(e,r,n)}}};c.buttons=[{type:"button",tooltip:"Tabular view",cssClass:"tabular-view",init:c.initView(i.ViewType.TABULAR),action:c.toggleView(i.ViewType.TABULAR)},{type:"button",tooltip:"Bar chart view",cssClass:"bar-chart-view",init:c.initView(i.ViewType.BAR_CHART),action:c.toggleView(i.ViewType.BAR_CHART)},{type:"button",tooltip:"Stacked bar chart view",cssClass:"stacked-bar-chart-view",init:c.initView(i.ViewType.STACKED_BAR_CHART),action:c.toggleView(i.ViewType.STACKED_BAR_CHART)},{type:"button",tooltip:"Pie chart view",cssClass:"pie-chart-view",init:c.initView(i.ViewType.PIE_CHART),action:c.toggleView(i.ViewType.PIE_CHART)},{type:"separator",viewType:i.ViewType.TABULAR},{type:"label",text:"Rows:",viewType:i.ViewType.TABULAR},{type:"button",tooltip:"Expand all rows",cssClass:"expand-all",action:c.expandAllRows,viewType:i.ViewType.TABULAR},{type:"button",tooltip:"Collapse all rows",cssClass:"collapse-all",action:c.collapseAllRows,viewType:i.ViewType.TABULAR},{type:"button",tooltip:"Toggle rows sub totals",init:c.initSubtotals(o.Type.ROWS),viewType:i.ViewType.TABULAR,action:c.toggleSubtotals(o.Type.ROWS)},{type:"button",tooltip:"Toggle rows grand total",init:c.initGrandtotal(o.Type.ROWS),viewType:i.ViewType.TABULAR,action:c.toggleGrandtotal(o.Type.ROWS)},{type:"separator",viewType:i.ViewType.TABULAR},{type:"label",text:"Columns:",viewType:i.ViewType.TABULAR},{type:"button",tooltip:"Expand all columns",cssClass:"expand-all",action:c.expandAllColumns,viewType:i.ViewType.TABULAR},{type:"button",tooltip:"Collapse all columns",cssClass:"collapse-all",action:c.collapseAllColumns,viewType:i.ViewType.TABULAR},{type:"button",tooltip:"Toggle columns sub totals",init:c.initSubtotals(o.Type.COLUMNS),viewType:i.ViewType.TABULAR,action:c.toggleSubtotals(o.Type.COLUMNS)},{type:"button",tooltip:"Toggle columns grand total",init:c.initGrandtotal(o.Type.COLUMNS),viewType:i.ViewType.TABULAR,action:c.toggleGrandtotal(o.Type.COLUMNS)},{type:"separator"},{type:"label",text:"Export:"},{type:"button",tooltip:"Export to Excel",cssClass:"export-xls",action:c.exportToExcel}]},{"../orb.axe":71,"../orb.export.excel":74,"../orb.pgrid":77,"../orb.utils.dom":87,react:"react"}]},{},[76])(76)});
//# sourceMappingURL=orb.min.js.map
